/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/@postlight/mercury-parser@2.2.0/dist/mercury.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var _regeneratorRuntime=_interopDefault(require("@babel/runtime-corejs2/regenerator")),_objectSpread=_interopDefault(require("@babel/runtime-corejs2/helpers/objectSpread")),_objectWithoutProperties=_interopDefault(require("@babel/runtime-corejs2/helpers/objectWithoutProperties")),_asyncToGenerator=_interopDefault(require("@babel/runtime-corejs2/helpers/asyncToGenerator")),URL=_interopDefault(require("url")),cheerio=_interopDefault(require("cheerio")),TurndownService=_interopDefault(require("turndown")),iconv=_interopDefault(require("iconv-lite")),_parseInt=_interopDefault(require("@babel/runtime-corejs2/core-js/parse-int")),_slicedToArray=_interopDefault(require("@babel/runtime-corejs2/helpers/slicedToArray")),_Promise=_interopDefault(require("@babel/runtime-corejs2/core-js/promise")),request=_interopDefault(require("postman-request")),_Reflect$ownKeys=_interopDefault(require("@babel/runtime-corejs2/core-js/reflect/own-keys")),_toConsumableArray=_interopDefault(require("@babel/runtime-corejs2/helpers/toConsumableArray")),_defineProperty=_interopDefault(require("@babel/runtime-corejs2/helpers/defineProperty")),_parseFloat=_interopDefault(require("@babel/runtime-corejs2/core-js/parse-float")),_Set=_interopDefault(require("@babel/runtime-corejs2/core-js/set")),_typeof=_interopDefault(require("@babel/runtime-corejs2/helpers/typeof")),_getIterator=_interopDefault(require("@babel/runtime-corejs2/core-js/get-iterator")),_Object$assign=_interopDefault(require("@babel/runtime-corejs2/core-js/object/assign")),_Object$keys=_interopDefault(require("@babel/runtime-corejs2/core-js/object/keys")),stringDirection=_interopDefault(require("string-direction")),validUrl=_interopDefault(require("valid-url")),moment=_interopDefault(require("moment-timezone")),parseFormat=_interopDefault(require("moment-parseformat")),wuzzy=_interopDefault(require("wuzzy")),difflib=_interopDefault(require("difflib")),_Array$from=_interopDefault(require("@babel/runtime-corejs2/core-js/array/from")),ellipsize=_interopDefault(require("ellipsize")),_Array$isArray=_interopDefault(require("@babel/runtime-corejs2/core-js/array/is-array")),NORMALIZE_RE=/\s{2,}(?![^<>]*<\/(pre|code|textarea)>)/g;function normalizeSpaces(e){return e.replace(NORMALIZE_RE," ").trim()}function extractFromUrl(e,t){var r=t.find(function(t){return t.test(e)});return r?r.exec(e)[1]:null}var PAGE_IN_HREF_RE=new RegExp("(page|paging|(p(a|g|ag)?(e|enum|ewanted|ing|ination)))?(=|/)([0-9]{1,3})","i"),HAS_ALPHA_RE=/[a-z]/i,IS_ALPHA_RE=/^[a-z]+$/i,IS_DIGIT_RE=/^[0-9]+$/i,ENCODING_RE=/charset=([\w-]+)\b/,DEFAULT_ENCODING="utf-8";function pageNumFromUrl(e){var t=e.match(PAGE_IN_HREF_RE);if(!t)return null;var r=_parseInt(t[6],10);return r<100?r:null}function removeAnchor(e){return e.split("#")[0].replace(/\/$/,"")}function isGoodSegment(e,t,r){var a=!0;return t<2&&IS_DIGIT_RE.test(e)&&e.length<3&&(a=!0),0===t&&"index"===e.toLowerCase()&&(a=!1),t<2&&e.length<3&&!r&&(a=!1),a}function articleBaseUrl(e,t){var r=t||URL.parse(e),a=r.protocol,o=r.host,n=r.path,i=!1,l=n.split("/").reverse().reduce(function(e,t,r){var a=t;if(a.includes(".")){var o=a.split("."),n=_slicedToArray(o,2),l=n[0],s=n[1];IS_ALPHA_RE.test(s)&&(a=l)}return PAGE_IN_HREF_RE.test(a)&&r<2&&(a=a.replace(PAGE_IN_HREF_RE,"")),0===r&&(i=HAS_ALPHA_RE.test(a)),isGoodSegment(a,r,i)&&e.push(a),e},[]);return"".concat(a,"//").concat(o).concat(l.reverse().join("/"))}var SENTENCE_END_RE=new RegExp(".( |$)");function hasSentenceEnd(e){return SENTENCE_END_RE.test(e)}function excerptContent(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return e.trim().split(/\s+/).slice(0,t).join(" ")}function getEncoding(e){var t=DEFAULT_ENCODING,r=ENCODING_RE.exec(e);null!==r&&(e=_slicedToArray(r,2)[1]);return iconv.encodingExists(e)&&(t=e),t}var REQUEST_HEADERS=cheerio.browser?{}:{"User-Agent":"Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2228.0 Safari/537.36"},FETCH_TIMEOUT=1e4,BAD_CONTENT_TYPES=["audio/mpeg","image/gif","image/jpeg","image/jpg"],BAD_CONTENT_TYPES_RE=new RegExp("^(".concat(BAD_CONTENT_TYPES.join("|"),")$"),"i"),MAX_CONTENT_LENGTH=5242880;function get(e){return new _Promise(function(t,r){request(e,function(e,a,o){e?r(e):t({body:o,response:a})})})}function validateResponse(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.statusMessage&&"OK"!==e.statusMessage||200!==e.statusCode){if(!e.statusCode)throw new Error("Unable to fetch content. Original exception was ".concat(e.error));if(!t)throw new Error("Resource returned a response status code of ".concat(e.statusCode," and resource was instructed to reject non-200 status codes."))}var r=e.headers,a=r["content-type"],o=r["content-length"];if(BAD_CONTENT_TYPES_RE.test(a))throw new Error("Content-type for this resource was ".concat(a," and is not allowed."));if(o>MAX_CONTENT_LENGTH)throw new Error("Content for this resource was too large. Maximum content length is ".concat(MAX_CONTENT_LENGTH,"."));return!0}function fetchResource(e,t){return _fetchResource.apply(this,arguments)}function _fetchResource(){return(_fetchResource=_asyncToGenerator(_regeneratorRuntime.mark(function e(t,r){var a,o,n,i,l,s=arguments;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>2&&void 0!==s[2]?s[2]:{},r=r||URL.parse(encodeURI(t)),o=_objectSpread({url:r.href,headers:_objectSpread({},REQUEST_HEADERS,a),timeout:FETCH_TIMEOUT,jar:!0,encoding:null,gzip:!0,followAllRedirects:!0},"undefined"!=typeof window?{}:{followRedirect:!0}),e.next=5,get(o);case 5:return n=e.sent,i=n.response,l=n.body,e.prev=8,validateResponse(i),e.abrupt("return",{body:l,response:i});case 13:return e.prev=13,e.t0=e.catch(8),e.abrupt("return",{error:!0,message:e.t0.message});case 16:case"end":return e.stop()}},e,this,[[8,13]])}))).apply(this,arguments)}function convertMetaProp(e,t,r){return e("meta[".concat(t,"]")).each(function(a,o){var n=e(o),i=n.attr(t);n.attr(r,i),n.removeAttr(t)}),e}function normalizeMetaTags(e){return e=convertMetaProp(e,"content","value"),e=convertMetaProp(e,"property","name")}var SPACER_RE=new RegExp("transparent|spacer|blank","i"),KEEP_CLASS="mercury-parser-keep",KEEP_SELECTORS=['iframe[src^="https://www.youtube.com"]','iframe[src^="https://www.youtube-nocookie.com"]','iframe[src^="http://www.youtube.com"]','iframe[src^="https://player.vimeo"]','iframe[src^="http://player.vimeo"]','iframe[src^="https://www.redditmedia.com"]'],STRIP_OUTPUT_TAGS=["title","script","noscript","link","style","hr","embed","iframe","object"],WHITELIST_ATTRS=["src","srcset","sizes","type","href","class","id","alt","xlink:href","width","height"],WHITELIST_ATTRS_RE=new RegExp("^(".concat(WHITELIST_ATTRS.join("|"),")$"),"i"),CLEAN_CONDITIONALLY_TAGS=["ul","ol","table","div","button","form"].join(","),HEADER_TAGS=["h2","h3","h4","h5","h6"],HEADER_TAG_LIST=HEADER_TAGS.join(","),UNLIKELY_CANDIDATES_BLACKLIST=["ad-break","adbox","advert","addthis","agegate","aux","blogger-labels","combx","comment","conversation","disqus","entry-unrelated","extra","foot","header","hidden","loader","login","menu","meta","nav","outbrain","pager","pagination","predicta","presence_control_external","popup","printfriendly","related","remove","remark","rss","share","shoutbox","sidebar","sociable","sponsor","taboola","tools"],UNLIKELY_CANDIDATES_WHITELIST=["and","article","body","blogindex","column","content","entry-content-asset","format","hfeed","hentry","hatom","main","page","posts","shadow"],DIV_TO_P_BLOCK_TAGS=["a","blockquote","dl","div","img","p","pre","table"].join(","),POSITIVE_SCORE_HINTS=["article","articlecontent","instapaper_body","blog","body","content","entry-content-asset","entry","hentry","main","Normal","page","pagination","permalink","post","story","text","[-_]copy","\\Bcopy"],POSITIVE_SCORE_RE=new RegExp(POSITIVE_SCORE_HINTS.join("|"),"i"),NEGATIVE_SCORE_HINTS=["adbox","advert","author","bio","bookmark","bottom","byline","clear","com-","combx","comment","comment\\B","contact","copy","credit","crumb","date","deck","excerpt","featured","foot","footer","footnote","graf","head","info","infotext","instapaper_ignore","jump","linebreak","link","masthead","media","meta","modal","outbrain","promo","pr_","related","respond","roundcontent","scroll","secondary","share","shopping","shoutbox","side","sidebar","sponsor","stamp","sub","summary","tags","tools","widget"],NEGATIVE_SCORE_RE=new RegExp(NEGATIVE_SCORE_HINTS.join("|"),"i"),IS_WP_SELECTOR="meta[name=generator][value^=WordPress]",PAGE_RE=new RegExp("pag(e|ing|inat)","i"),BLOCK_LEVEL_TAGS=["article","aside","blockquote","body","br","button","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","map","object","ol","output","p","pre","progress","section","table","tbody","textarea","tfoot","th","thead","tr","ul","video"],BLOCK_LEVEL_TAGS_RE=new RegExp("^(".concat(BLOCK_LEVEL_TAGS.join("|"),")$"),"i"),candidatesBlacklist=UNLIKELY_CANDIDATES_BLACKLIST.join("|"),CANDIDATES_BLACKLIST=new RegExp(candidatesBlacklist,"i"),candidatesWhitelist=UNLIKELY_CANDIDATES_WHITELIST.join("|"),CANDIDATES_WHITELIST=new RegExp(candidatesWhitelist,"i");function stripUnlikelyCandidates(e){return e("*").not("a").each(function(t,r){var a=e(r),o=a.attr("class"),n=a.attr("id");if(n||o){var i="".concat(o||""," ").concat(n||"");CANDIDATES_WHITELIST.test(i)||CANDIDATES_BLACKLIST.test(i)&&a.remove()}}),e}function brsToPs$$1(e){var t=!1;return e("br").each(function(r,a){var o=e(a),n=o.next().get(0);n&&"br"===n.tagName.toLowerCase()?(t=!0,o.remove()):t&&(t=!1,paragraphize(a,e,!0))}),e}function paragraphize(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t(e);if(r){for(var o=e.nextSibling,n=t("<p></p>");o&&(!o.tagName||!BLOCK_LEVEL_TAGS_RE.test(o.tagName));){var i=o.nextSibling;t(o).appendTo(n),o=i}return a.replaceWith(n),a.remove(),t}return t}function convertDivs(e){return e("div").each(function(t,r){var a=e(r);0===a.children(DIV_TO_P_BLOCK_TAGS).length&&convertNodeTo$$1(a,e,"p")}),e}function convertSpans(e){return e("span").each(function(t,r){var a=e(r);0===a.parents("p, div").length&&convertNodeTo$$1(a,e,"p")}),e}function convertToParagraphs$$1(e){return e=convertSpans(e=convertDivs(e=brsToPs$$1(e)))}function convertNodeTo$$1(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"p",a=e.get(0);if(!a)return t;var o,n=getAttrs(a)||{},i=_Reflect$ownKeys(n).map(function(e){return"".concat(e,"=").concat(n[e])}).join(" ");return o=t.browser?"noscript"===a.tagName.toLowerCase()?e.text():e.html():e.contents(),e.replaceWith("<".concat(r," ").concat(i,">").concat(o,"</").concat(r,">")),t}function cleanForHeight(e,t){var r=_parseInt(e.attr("height"),10),a=_parseInt(e.attr("width"),10)||20;return(r||20)<10||a<10?e.remove():r&&e.removeAttr("height"),t}function removeSpacers(e,t){return SPACER_RE.test(e.attr("src"))&&e.remove(),t}function cleanImages(e,t){return e.find("img").each(function(e,r){var a=t(r);cleanForHeight(a,t),removeSpacers(a,t)}),t}function markToKeep(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(0===a.length&&(a=KEEP_SELECTORS),r){var o=URL.parse(r),n=o.protocol,i=o.hostname;a=[].concat(_toConsumableArray(a),['iframe[src^="'.concat(n,"//").concat(i,'"]')])}return t(a.join(","),e).addClass(KEEP_CLASS),t}function stripJunkTags(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return 0===r.length&&(r=STRIP_OUTPUT_TAGS),t(r.join(","),e).not(".".concat(KEEP_CLASS)).remove(),t}function cleanHOnes$$1(e,t){var r=t("h1",e);return r.length<3?r.each(function(e,r){return t(r).remove()}):r.each(function(e,r){convertNodeTo$$1(t(r),t,"h2")}),t}function removeAllButWhitelist(e,t){return e.find("*").each(function(e,t){var r=getAttrs(t);setAttrs(t,_Reflect$ownKeys(r).reduce(function(e,t){return WHITELIST_ATTRS_RE.test(t)?_objectSpread({},e,_defineProperty({},t,r[t])):e},{}))}),t(".".concat(KEEP_CLASS),e).removeClass(KEEP_CLASS),e}function cleanAttributes$$1(e,t){return removeAllButWhitelist(e.parent().length?e.parent():e,t)}function removeEmpty(e,t){return e.find("p").each(function(e,r){var a=t(r);0===a.find("iframe, img").length&&""===a.text().trim()&&a.remove()}),t}var NON_TOP_CANDIDATE_TAGS$1=["br","b","i","label","hr","area","base","basefont","input","img","link","meta"],NON_TOP_CANDIDATE_TAGS_RE$1=new RegExp("^(".concat(NON_TOP_CANDIDATE_TAGS$1.join("|"),")$"),"i"),HNEWS_CONTENT_SELECTORS$1=[[".hentry",".entry-content"],["entry",".entry-content"],[".entry",".entry_content"],[".post",".postbody"],[".post",".post_body"],[".post",".post-body"]],PHOTO_HINTS$1=["figure","photo","image","caption"],PHOTO_HINTS_RE$1=new RegExp(PHOTO_HINTS$1.join("|"),"i"),POSITIVE_SCORE_HINTS$1=["article","articlecontent","instapaper_body","blog","body","content","entry-content-asset","entry","hentry","main","Normal","page","pagination","permalink","post","story","text","[-_]copy","\\Bcopy"],POSITIVE_SCORE_RE$1=new RegExp(POSITIVE_SCORE_HINTS$1.join("|"),"i"),READABILITY_ASSET$1=new RegExp("entry-content-asset","i"),NEGATIVE_SCORE_HINTS$1=["adbox","advert","author","bio","bookmark","bottom","byline","clear","com-","combx","comment","comment\\B","contact","copy","credit","crumb","date","deck","excerpt","featured","foot","footer","footnote","graf","head","info","infotext","instapaper_ignore","jump","linebreak","link","masthead","media","meta","modal","outbrain","promo","pr_","related","respond","roundcontent","scroll","secondary","share","shopping","shoutbox","side","sidebar","sponsor","stamp","sub","summary","tags","tools","widget"],NEGATIVE_SCORE_RE$1=new RegExp(NEGATIVE_SCORE_HINTS$1.join("|"),"i"),PARAGRAPH_SCORE_TAGS$1=new RegExp("^(p|li|span|pre)$","i"),CHILD_CONTENT_TAGS$1=new RegExp("^(td|blockquote|ol|ul|dl)$","i"),BAD_TAGS$1=new RegExp("^(address|form)$","i");function getWeight(e){var t=e.attr("class"),r=e.attr("id"),a=0;return r&&(POSITIVE_SCORE_RE$1.test(r)&&(a+=25),NEGATIVE_SCORE_RE$1.test(r)&&(a-=25)),t&&(0===a&&(POSITIVE_SCORE_RE$1.test(t)&&(a+=25),NEGATIVE_SCORE_RE$1.test(t)&&(a-=25)),PHOTO_HINTS_RE$1.test(t)&&(a+=10),READABILITY_ASSET$1.test(t)&&(a+=25)),a}function getScore(e){return _parseFloat(e.attr("score"))||null}function scoreCommas(e){return(e.match(/,/g)||[]).length}var idkRe=new RegExp("^(p|pre)$","i");function scoreLength(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"p",a=e/50;return a>0?(t=idkRe.test(r)?a-2:a-1.25,Math.min(Math.max(t,0),3)):0}function scoreParagraph$$1(e){var t=1,r=e.text().trim(),a=r.length;return a<25?0:(t+=scoreCommas(r),t+=scoreLength(a),":"===r.slice(-1)&&(t-=1),t)}function setScore(e,t,r){return e.attr("score",r),e}function addScore$$1(e,t,r){try{setScore(e,t,getOrInitScore$$1(e,t)+r)}catch(e){}return e}function addToParent$$1(e,t,r){var a=e.parent();return a&&addScore$$1(a,t,.25*r),e}function getOrInitScore$$1(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=getScore(e);return a||(a=scoreNode$$1(e),r&&(a+=getWeight(e)),addToParent$$1(e,t,a),a)}function scoreNode$$1(e){var t=e.get(0).tagName;return PARAGRAPH_SCORE_TAGS$1.test(t)?scoreParagraph$$1(e):"div"===t.toLowerCase()?5:CHILD_CONTENT_TAGS$1.test(t)?3:BAD_TAGS$1.test(t)?-3:"th"===t.toLowerCase()?-5:0}function convertSpans$1(e,t){e.get(0)&&("span"===e.get(0).tagName&&convertNodeTo$$1(e,t,"div"))}function addScoreTo(e,t,r){e&&(convertSpans$1(e,t),addScore$$1(e,t,r))}function scorePs(e,t){return e("p, pre").not("[score]").each(function(r,a){var o=e(a),n=(o=setScore(o,e,getOrInitScore$$1(o,e,t))).parent(),i=scoreNode$$1(o);addScoreTo(n,e,i,t),n&&addScoreTo(n.parent(),e,i/2,t)}),e}function scoreContent$$1(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return HNEWS_CONTENT_SELECTORS$1.forEach(function(t){var r=_slicedToArray(t,2),a=r[0],o=r[1];e("".concat(a," ").concat(o)).each(function(t,r){addScore$$1(e(r).parent(a),e,80)})}),scorePs(e,t),scorePs(e,t),e}function mergeSiblings(e,t,r){if(!e.parent().length)return e;var a=Math.max(10,.25*t),o=r("<div></div>");return e.parent().children().each(function(n,i){var l=r(i);if(NON_TOP_CANDIDATE_TAGS_RE$1.test(i.tagName))return null;var s=getScore(l);if(s)if(l.get(0)===e.get(0))o.append(l);else{var c=0,m=linkDensity(l);if(m<.05&&(c+=20),m>=.5&&(c-=20),l.attr("class")===e.attr("class")&&(c+=.2*t),s+c>=a)return o.append(l);if("p"===i.tagName){var u=l.text(),d=textLength(u);if(d>80&&m<.25)return o.append(l);if(d<=80&&0===m&&hasSentenceEnd(u))return o.append(l)}}return null}),1===o.children().length&&o.children().first().get(0)===e.get(0)?e:o}function findTopCandidate$$1(e){var t,r=0;return e("[score]").each(function(a,o){if(!NON_TOP_CANDIDATE_TAGS_RE$1.test(o.tagName)){var n=e(o),i=getScore(n);i>r&&(r=i,t=n)}}),t?t=mergeSiblings(t,r,e):e("body")||e("*").first()}function removeUnlessContent(e,t,r){if(!e.hasClass("entry-content-asset")){var a=normalizeSpaces(e.text());if(scoreCommas(a)<10){var o=t("p",e).length;if(t("input",e).length>o/3)return void e.remove();var n=a.length,i=t("img",e).length;if(n<25&&0===i)return void e.remove();var l=linkDensity(e);if(r<25&&l>.2&&n>75)return void e.remove();if(r>=25&&l>.5){var s=e.get(0).tagName.toLowerCase();if("ol"===s||"ul"===s){var c=e.prev();if(c&&":"===normalizeSpaces(c.text()).slice(-1))return}return void e.remove()}t("script",e).length>0&&n<150&&e.remove()}}}function cleanTags$$1(e,t){return t(CLEAN_CONDITIONALLY_TAGS,e).each(function(e,r){var a=t(r);if(!(a.hasClass(KEEP_CLASS)||a.find(".".concat(KEEP_CLASS)).length>0)){var o=getScore(a);o||(o=getOrInitScore$$1(a,t),setScore(a,t,o)),o<0?a.remove():removeUnlessContent(a,t,o)}}),t}function cleanHeaders(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t(HEADER_TAG_LIST,e).each(function(a,o){var n=t(o);return 0===t(n,e).prevAll("p").length?n.remove():normalizeSpaces(t(o).text())===r?n.remove():getWeight(t(o))<0?n.remove():n}),t}function rewriteTopLevel$$1(e,t){return t=convertNodeTo$$1(t("html"),t,"div"),t=convertNodeTo$$1(t("body"),t,"div")}function absolutize(e,t,r){var a=e("base").attr("href");e("[".concat(r,"]")).each(function(e,o){var n=getAttrs(o)[r];if(n){var i=URL.resolve(a||t,n);setAttr(o,r,i)}})}function absolutizeSet(e,t,r){e("[srcset]",r).each(function(e,r){var a=getAttrs(r).srcset;if(a){var o=a.match(/(?:\s*)(\S+(?:\s*[\d.]+[wx])?)(?:\s*,\s*)?/g);if(!o)return;var n=o.map(function(e){var r=e.trim().replace(/,$/,"").split(/\s+/);return r[0]=URL.resolve(t,r[0]),r.join(" ")});setAttr(r,"srcset",_toConsumableArray(new _Set(n)).join(", "))}})}function makeLinksAbsolute$$1(e,t,r){return["href","src"].forEach(function(e){return absolutize(t,r,e)}),absolutizeSet(t,r,e),e}function textLength(e){return e.trim().replace(/\s+/g," ").length}function linkDensity(e){var t=textLength(e.text()),r=textLength(e.find("a").text());return t>0?r/t:0===t&&r>0?1:0}function extractFromMeta$$1(e,t,r){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=t.filter(function(e){return-1!==r.indexOf(e)}),n=!0,i=!1,l=void 0;try{for(var s,c=function(){var t=s.value,r=e("meta[".concat("name",'="').concat(t,'"]')).map(function(t,r){return e(r).attr("value")}).toArray().filter(function(e){return""!==e});if(1===r.length){var o;if(a)o=stripTags(r[0],e);else o=_slicedToArray(r,1)[0];return{v:o}}},m=_getIterator(o);!(n=(s=m.next()).done);n=!0){var u=c();if("object"===_typeof(u))return u.v}}catch(e){i=!0,l=e}finally{try{n||null==m.return||m.return()}finally{if(i)throw l}}return null}function isGoodNode(e,t){return!(e.children().length>t)&&!withinComment$$1(e)}function extractFromSelectors$$1(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!0,n=!1,i=void 0;try{for(var l,s=_getIterator(t);!(o=(l=s.next()).done);o=!0){var c=e(l.value);if(1===c.length){var m=e(c[0]);if(isGoodNode(m,r)){var u=void 0;if(u=a?m.text():m.html())return u}}}}catch(e){n=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(n)throw i}}return null}function stripTags(e,t){var r=t("<span>".concat(e,"</span>")).text();return""===r?e:r}function withinComment$$1(e){return void 0!==e.parents().toArray().find(function(e){var t=getAttrs(e),r=t.class,a=t.id;return"".concat(r," ").concat(a).includes("comment")})}function nodeIsSufficient(e){return e.text().trim().length>=100}function isWordpress(e){return e(IS_WP_SELECTOR).length>0}function getAttrs(e){var t=e.attribs,r=e.attributes;return!t&&r?_Reflect$ownKeys(r).reduce(function(e,t){var a=r[t];return a.name&&a.value?(e[a.name]=a.value,e):e},{}):t}function setAttr(e,t,r){return e.attribs?e.attribs[t]=r:e.attributes&&e.setAttribute(t,r),e}function setAttrs(e,t){if(e.attribs)e.attribs=t;else if(e.attributes){for(;e.attributes.length>0;)e.removeAttribute(e.attributes[0].name);_Reflect$ownKeys(t).forEach(function(r){e.setAttribute(r,t[r])})}return e}var IS_LINK=new RegExp("https?://","i"),IMAGE_RE=".(png|gif|jpe?g)",IS_IMAGE=new RegExp("".concat(IMAGE_RE),"i"),IS_SRCSET=new RegExp("".concat(IMAGE_RE,"(\\?\\S+)?(\\s*[\\d.]+[wx])"),"i"),TAGS_TO_REMOVE=["script","style","form"].join(",");function convertLazyLoadedImages(e){return e("img").each(function(t,r){var a=getAttrs(r);_Reflect$ownKeys(a).forEach(function(t){var o=a[t];"srcset"!==t&&IS_LINK.test(o)&&IS_SRCSET.test(o)?e(r).attr("srcset",o):"src"!==t&&"srcset"!==t&&IS_LINK.test(o)&&IS_IMAGE.test(o)&&e(r).attr("src",o)})}),e}function isComment(e,t){return"comment"===t.type}function cleanComments(e){return e.root().find("*").contents().filter(isComment).remove(),e}function clean(e){return e(TAGS_TO_REMOVE).remove(),e=cleanComments(e)}var Resource={create:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark(function e(t,r,a){var o,n,i=arguments;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i.length>3&&void 0!==i[3]?i[3]:{},!r){e.next=6;break}n={body:r,response:{statusMessage:"OK",statusCode:200,headers:{"content-type":"text/html","content-length":500}}},e.next=9;break;case 6:return e.next=8,fetchResource(t,a,o);case 8:n=e.sent;case 9:if(!n.error){e.next=12;break}return n.failed=!0,e.abrupt("return",n);case 12:return e.abrupt("return",this.generateDoc(n));case 13:case"end":return e.stop()}},e,this)}));return function(t,r,a){return e.apply(this,arguments)}}(),generateDoc:function(e){var t=e.body,r=e.response.headers["content-type"],a=void 0===r?"":r;if(!a.includes("html")&&!a.includes("text"))throw new Error("Content does not appear to be text.");var o=this.encodeDoc({content:t,contentType:a});if(0===o.root().children().length)throw new Error("No children, likely a bad parse.");return o=clean(o=convertLazyLoadedImages(o=normalizeMetaTags(o)))},encodeDoc:function(e){var t=e.content,r=getEncoding(e.contentType),a=iconv.decode(t,r),o=cheerio.load(a),n=o(cheerio.browser?"meta[http-equiv=content-type]":"meta[http-equiv=content-type i]").attr("content")||o("meta[charset]").attr("charset"),i=getEncoding(n);return n&&i!==r&&(a=iconv.decode(t,i),o=cheerio.load(a)),o}},_marked=_regeneratorRuntime.mark(range);function range(){var e,t,r=arguments;return _regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e=r.length>0&&void 0!==r[0]?r[0]:1,t=r.length>1&&void 0!==r[1]?r[1]:1;case 2:if(!(e<=t)){a.next=7;break}return a.next=5,e+=1;case 5:a.next=2;break;case 7:case"end":return a.stop()}},_marked,this)}function validateUrl(e){return!!e.hostname}var merge=function(e,t){return t.reduce(function(t,r){return t[r]=e,t},{})};function mergeSupportedDomains(e){return e.supportedDomains?merge(e,[e.domain].concat(_toConsumableArray(e.supportedDomains))):merge(e,[e.domain])}var apiExtractors={};function addExtractor(e){return e&&e.domain?(_Object$assign(apiExtractors,mergeSupportedDomains(e)),apiExtractors):{error:!0,message:"Unable to add custom extractor. Invalid parameters."}}var BloggerExtractor={domain:"blogspot.com",content:{selectors:[".post-content noscript"],clean:[],transforms:{noscript:"div"}},author:{selectors:[".post-author-name"]},title:{selectors:[".post h2.title"]},date_published:{selectors:["span.publishdate"]}},NYMagExtractor={domain:"nymag.com",content:{selectors:["div.article-content","section.body","article.article"],clean:[".ad",".single-related-story"],transforms:{h1:"h2",noscript:function(e,t){var r=t.browser?t(e.text()):e.children();return 1===r.length&&void 0!==r.get(0)&&"img"===r.get(0).tagName.toLowerCase()?"figure":null}}},title:{selectors:["h1.lede-feature-title","h1.headline-primary","h1"]},author:{selectors:[".by-authors",".lede-feature-author"]},dek:{selectors:[".lede-feature-teaser"]},date_published:{selectors:[["time.article-timestamp[datetime]","datetime"],"time.article-timestamp"]}},WikipediaExtractor={domain:"wikipedia.org",content:{selectors:["#mw-content-text"],defaultCleaner:!1,transforms:{".infobox img":function(e){var t=e.parents(".infobox");0===t.children("img").length&&t.prepend(e)},".infobox caption":"figcaption",".infobox":"figure"},clean:[".mw-editsection","figure tr, figure td, figure tbody","#toc",".navbox"]},author:"Wikipedia Contributors",title:{selectors:["h2.title"]},date_published:{selectors:["#footer-info-lastmod"]}},TwitterExtractor={domain:"twitter.com",content:{transforms:{".permalink[role=main]":function(e,t){var r=e.find(".tweet"),a=t('<div id="TWEETS_GO_HERE"></div>');a.append(r),e.replaceWith(a)},s:"span"},selectors:[".permalink[role=main]"],defaultCleaner:!1,clean:[".stream-item-footer","button",".tweet-details-fixer"]},author:{selectors:[".tweet.permalink-tweet .username"]},date_published:{selectors:[[".permalink-tweet ._timestamp[data-time-ms]","data-time-ms"]]}},NYTimesExtractor={domain:"www.nytimes.com",title:{selectors:["h1.g-headline",'h1[itemprop="headline"]',"h1.headline"]},author:{selectors:[['meta[name="author"]',"value"],".g-byline",".byline"]},content:{selectors:["div.g-blocks","article#story"],transforms:{"img.g-lazy":function(e){var t=e.attr("src");t=t.replace("{{size}}",640),e.attr("src",t)}},clean:[".ad","header#story-header",".story-body-1 .lede.video",".visually-hidden","#newsletter-promo",".promo",".comments-button",".hidden",".comments",".supplemental",".nocontent",".story-footer-links"]},date_published:{selectors:[['meta[name="article:published"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},dek:null,next_page_url:null,excerpt:null},TheAtlanticExtractor={domain:"www.theatlantic.com",title:{selectors:["h1",".c-article-header__hed"]},author:{selectors:[['meta[name="author"]',"value"],".c-byline__author"]},content:{selectors:["article",".article-body"],transforms:[],clean:[".partner-box",".callout",".c-article-writer__image",".c-article-writer__content",".c-letters-cta__text",".c-footer__logo",".c-recirculation-link",".twitter-tweet"]},dek:{selectors:[['meta[name="description"]',"value"]]},date_published:{selectors:[['time[itemprop="datePublished"]',"datetime"]]},lead_image_url:{selectors:[['img[itemprop="url"]',"src"]]},next_page_url:null,excerpt:null},NewYorkerExtractor={domain:"www.newyorker.com",title:{selectors:['h1[class^="ArticleHeader__hed"]',['meta[name="og:title"]',"value"]]},author:{selectors:['div[class^="ArticleContributors"] a[rel="author"]','article header div[class*="Byline__multipleContributors"]']},content:{selectors:['main[class^="Layout__content"]'],transforms:[],clean:['footer[class^="ArticleFooter__footer"]']},date_published:{selectors:[['meta[name="pubdate"]',"value"]],format:"YYYYMMDD",timezone:"America/New_York"},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},dek:{selectors:['h2[class^="ArticleHeader__dek"]']},next_page_url:null,excerpt:null},WiredExtractor={domain:"www.wired.com",title:{selectors:["h1.post-title"]},author:{selectors:['a[rel="author"]']},content:{selectors:["article.content"],transforms:[],clean:[".visually-hidden","figcaption img.photo"]},date_published:{selectors:[['meta[itemprop="datePublished"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},dek:{selectors:[]},next_page_url:null,excerpt:null},MSNExtractor={domain:"www.msn.com",title:{selectors:["h1"]},author:{selectors:["span.authorname-txt"]},content:{selectors:["div.richtext"],transforms:[],clean:["span.caption"]},date_published:{selectors:["span.time"]},lead_image_url:{selectors:[]},dek:{selectors:[]},next_page_url:null,excerpt:null},YahooExtractor={domain:"www.yahoo.com",title:{selectors:["header.canvas-header"]},author:{selectors:["span.provider-name"]},content:{selectors:[".content-canvas"],transforms:[],clean:[".figure-caption"]},date_published:{selectors:[["time.date[datetime]","datetime"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},dek:{selectors:[]},next_page_url:null,excerpt:null},BuzzfeedExtractor={domain:"www.buzzfeed.com",title:{selectors:['h1[id="post-title"]']},author:{selectors:['a[data-action="user/username"]',"byline__author"]},content:{selectors:[[".longform_custom_header_media","#buzz_sub_buzz"],"#buzz_sub_buzz"],defaultCleaner:!1,transforms:{h2:"b","div.longform_custom_header_media":function(e){return e.has("img")&&e.has(".longform_header_image_source")?"figure":null},"figure.longform_custom_header_media .longform_header_image_source":"figcaption"},clean:[".instapaper_ignore",".suplist_list_hide .buzz_superlist_item .buzz_superlist_number_inline",".share-box",".print"]},date_published:{selectors:[".buzz-datetime"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},dek:{selectors:[]},next_page_url:null,excerpt:null},WikiaExtractor={domain:"fandom.wikia.com",title:{selectors:["h1.entry-title"]},author:{selectors:[".author vcard",".fn"]},content:{selectors:[".grid-content",".entry-content"],transforms:[],clean:[]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},dek:{selectors:[]},next_page_url:null,excerpt:null},LittleThingsExtractor={domain:"www.littlethings.com",title:{selectors:["h1.post-title"]},author:{selectors:[['meta[name="author"]',"value"]]},content:{selectors:[".mainContentIntro",".content-wrapper"],transforms:[],clean:[]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},next_page_url:null,excerpt:null},PoliticoExtractor={domain:"www.politico.com",title:{selectors:[['meta[name="og:title"]',"value"]]},author:{selectors:[".story-main-content .byline .vcard"]},content:{selectors:[".story-main-content",".content-group",".story-core",".story-text"],transforms:[],clean:["figcaption"]},date_published:{selectors:[[".story-main-content .timestamp time[datetime]","datetime"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},dek:{selectors:[]},next_page_url:null,excerpt:null},DeadspinExtractor={domain:"deadspin.com",supportedDomains:["jezebel.com","lifehacker.com","kotaku.com","gizmodo.com","jalopnik.com","kinja.com","avclub.com","clickhole.com","splinternews.com","theonion.com","theroot.com","thetakeout.com","theinventory.com"],title:{selectors:["h1.headline"]},author:{selectors:[".author"]},content:{selectors:[".post-content",".entry-content"],transforms:{'iframe.lazyload[data-recommend-id^="youtube://"]':function(e){var t=e.attr("id").split("youtube-")[1];e.attr("src","https://www.youtube.com/embed/".concat(t))}},clean:[".magnifier",".lightbox"]},date_published:{selectors:[["time.updated[datetime]","datetime"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},dek:{selectors:[]},next_page_url:{selectors:[]},excerpt:{selectors:[]}},BroadwayWorldExtractor={domain:"www.broadwayworld.com",title:{selectors:["h1.article-title"]},author:{selectors:["span[itemprop=author]"]},content:{selectors:["div[itemprop=articlebody]"],transforms:{},clean:[]},date_published:{selectors:[["meta[itemprop=datePublished]","value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},dek:{selectors:[]},next_page_url:{selectors:[]},excerpt:{selectors:[]}},ApartmentTherapyExtractor={domain:"www.apartmenttherapy.com",title:{selectors:["h1.headline"]},author:{selectors:[".PostByline__name"]},content:{selectors:["div.post__content"],transforms:{'div[data-render-react-id="images/LazyPicture"]':function(e,t){var r=JSON.parse(e.attr("data-props")).sources[0].src,a=t("<img />").attr("src",r);e.replaceWith(a)}},clean:[]},date_published:{selectors:[[".PostByline__timestamp[datetime]","datetime"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},dek:{selectors:[]},next_page_url:{selectors:[]},excerpt:{selectors:[]}},MediumExtractor={domain:"medium.com",title:{selectors:["h1",['meta[name="og:title"]',"value"]]},author:{selectors:[['meta[name="author"]',"value"]]},content:{selectors:["article"],transforms:{iframe:function(e){var t=/https:\/\/i.embed.ly\/.+url=https:\/\/i\.ytimg\.com\/vi\/(\w+)\//,r=decodeURIComponent(e.attr("data-thumbnail")),a=e.parents("figure");if(t.test(r)){var o=r.match(t),n=_slicedToArray(o,2),i=(n[0],n[1]);e.attr("src","https://www.youtube.com/embed/".concat(i));var l=a.find("figcaption");a.empty().append([e,l])}else a.remove()},figure:function(e){if(!(e.find("iframe").length>0)){var t=e.find("img").slice(-1)[0],r=e.find("figcaption");e.empty().append([t,r])}},img:function(e){_parseInt(e.attr("width"),10)<100&&e.remove()}},clean:["span","svg"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},dek:null,next_page_url:{selectors:[]},excerpt:{selectors:[]}},WwwTmzComExtractor={domain:"www.tmz.com",title:{selectors:[".post-title-breadcrumb","h1",".headline"]},author:"TMZ STAFF",date_published:{selectors:[".article-posted-date"],timezone:"America/Los_Angeles"},dek:{selectors:[]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".article-content",".all-post-body"],transforms:{},clean:[".lightbox-link"]}},WwwWashingtonpostComExtractor={domain:"www.washingtonpost.com",title:{selectors:["h1","#topper-headline-wrapper"]},author:{selectors:[".pb-author-name"]},date_published:{selectors:[['.author-timestamp[itemprop="datePublished"]',"content"]]},dek:{selectors:[]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".article-body"],transforms:{"div.inline-content":function(e){return e.has("img,iframe,video").length>0?"figure":(e.remove(),null)},".pb-caption":"figcaption"},clean:[".interstitial-link",".newsletter-inline-unit"]}},WwwHuffingtonpostComExtractor={domain:"www.huffingtonpost.com",title:{selectors:["h1.headline__title"]},author:{selectors:["span.author-card__details__name"]},date_published:{selectors:[['meta[name="article:modified_time"]',"value"],['meta[name="article:published_time"]',"value"]]},dek:{selectors:["h2.headline__subtitle"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.entry__body"],defaultCleaner:!1,transforms:{},clean:[".pull-quote",".tag-cloud",".embed-asset",".below-entry",".entry-corrections","#suggested-story"]}},NewrepublicComExtractor={domain:"newrepublic.com",title:{selectors:["h1.article-headline",".minutes-primary h1.minute-title"]},author:{selectors:["div.author-list",".minutes-primary h3.minute-byline"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]],timezone:"America/New_York"},dek:{selectors:["h2.article-subhead"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[[".article-cover","div.content-body"],[".minute-image",".minutes-primary div.content-body"]],transforms:{},clean:["aside"]}},MoneyCnnComExtractor={domain:"money.cnn.com",title:{selectors:[".article-title"]},author:{selectors:[".byline a"]},date_published:{selectors:[['meta[name="date"]',"value"]],timezone:"GMT"},dek:{selectors:["#storytext h2"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["#storytext"],transforms:{},clean:[".inStoryHeading"]}},WwwThevergeComExtractor={domain:"www.theverge.com",supportedDomains:["www.polygon.com"],title:{selectors:["h1"]},author:{selectors:[['meta[name="author"]',"value"]]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},dek:{selectors:["h2.p-dek"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[[".c-entry-hero .e-image",".c-entry-intro",".c-entry-content"],[".e-image--hero",".c-entry-content"],".l-wrapper .l-feature","div.c-entry-content"],transforms:{noscript:function(e){var t=e.children();return 1===t.length&&"img"===t.get(0).tagName?"span":null}},clean:[".aside","img.c-dynamic-image"]}},WwwCnnComExtractor={domain:"www.cnn.com",title:{selectors:["h1.pg-headline","h1"]},author:{selectors:[".metadata__byline__author"]},date_published:{selectors:[['meta[name="pubdate"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[[".media__video--thumbnail",".zn-body-text"],".zn-body-text",'div[itemprop="articleBody"]'],transforms:{".zn-body__paragraph, .el__leafmedia--sourced-paragraph":function(e){return e.html()?"p":null},".zn-body__paragraph":function(e){e.has("a")&&e.text().trim()===e.find("a").text().trim()&&e.remove()},".media__video--thumbnail":"figure"},clean:[]}},WwwAolComExtractor={domain:"www.aol.com",title:{selectors:["h1.p-article__title"]},author:{selectors:[['meta[name="author"]',"value"]]},date_published:{selectors:[".p-article__byline__date"],timezone:"America/New_York"},dek:{selectors:[]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".article-content"],transforms:{},clean:[]}},WwwYoutubeComExtractor={domain:"www.youtube.com",title:{selectors:[".watch-title","h1.watch-title-container"]},author:{selectors:[".yt-user-info"]},date_published:{selectors:[['meta[itemProp="datePublished"]',"value"]],timezone:"GMT"},dek:{selectors:[]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{defaultCleaner:!1,selectors:[["#player-api","#eow-description"]],transforms:{"#player-api":function(e,t){var r=t('meta[itemProp="videoId"]').attr("value");e.html('\n          <iframe src="https://www.youtube.com/embed/'.concat(r,'" frameborder="0" allowfullscreen></iframe>'))}},clean:[]}},WwwTheguardianComExtractor={domain:"www.theguardian.com",title:{selectors:[".content__headline"]},author:{selectors:["p.byline"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},dek:{selectors:[".content__standfirst"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".content__article-body"],transforms:{},clean:[".hide-on-mobile",".inline-icon"]}},WwwSbnationComExtractor={domain:"www.sbnation.com",title:{selectors:["h1.c-page-title"]},author:{selectors:[['meta[name="author"]',"value"]]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},dek:{selectors:["h2.c-entry-summary.p-dek"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.c-entry-content"],transforms:{},clean:[]}},WwwBloombergComExtractor={domain:"www.bloomberg.com",title:{selectors:[".lede-headline","h1.article-title","h1.lede-text-only__hed"]},author:{selectors:[['meta[name="parsely-author"]',"value"],".byline-details__link",".bydek",".author"]},date_published:{selectors:[["time.published-at","datetime"],["time[datetime]","datetime"],['meta[name="date"]',"value"],['meta[name="parsely-pub-date"]',"value"]]},dek:{selectors:[]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".article-body__content",["section.copy-block"],".body-copy"],transforms:{},clean:[".inline-newsletter",".page-ad"]}},WwwBustleComExtractor={domain:"www.bustle.com",title:{selectors:["h1.post-page__title"]},author:{selectors:["div.content-meta__author"]},date_published:{selectors:[["time.content-meta__published-date[datetime]","datetime"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".post-page__body"],transforms:{},clean:[]}},WwwNprOrgExtractor={domain:"www.npr.org",title:{selectors:["h1",".storytitle"]},author:{selectors:["p.byline__name.byline__name--block"]},date_published:{selectors:[[".dateblock time[datetime]","datetime"],['meta[name="date"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"],['meta[name="twitter:image:src"]',"value"]]},content:{selectors:[".storytext"],transforms:{".bucketwrap.image":"figure",".bucketwrap.image .credit-caption":"figcaption"},clean:["div.enlarge_measure"]}},WwwRecodeNetExtractor={domain:"www.recode.net",title:{selectors:["h1.c-page-title"]},author:{selectors:[['meta[name="author"]',"value"]]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},dek:{selectors:["h2.c-entry-summary.p-dek"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[["figure.e-image--hero",".c-entry-content"],".c-entry-content"],transforms:{},clean:[]}},QzComExtractor={domain:"qz.com",title:{selectors:["header.item-header.content-width-responsive"]},author:{selectors:[['meta[name="author"]',"value"]]},date_published:{selectors:[".timestamp"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[["figure.featured-image",".item-body"],".item-body"],transforms:{},clean:[".article-aside",".progressive-image-thumbnail"]}},WwwDmagazineComExtractor={domain:"www.dmagazine.com",title:{selectors:["h1.story__title"]},author:{selectors:[".story__info .story__info__item:first-child"]},date_published:{selectors:[".story__info"],timezone:"America/Chicago"},dek:{selectors:[".story__subhead"]},lead_image_url:{selectors:[["article figure a:first-child","href"]]},content:{selectors:[".story__content"],transforms:{},clean:[]}},WwwReutersComExtractor={domain:"www.reuters.com",title:{selectors:["h1.article-headline"]},author:{selectors:[".author"]},date_published:{selectors:[['meta[name="og:article:published_time"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["#article-text"],transforms:{".article-subtitle":"h4"},clean:["#article-byline .author"]}},MashableComExtractor={domain:"mashable.com",title:{selectors:["h1.title"]},author:{selectors:["span.author_name a"]},date_published:{selectors:[['meta[name="og:article:published_time"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["section.article-content.blueprint"],transforms:{".image-credit":"figcaption"},clean:[]}},WwwChicagotribuneComExtractor={domain:"www.chicagotribune.com",title:{selectors:["h1.trb_ar_hl_t"]},author:{selectors:["span.trb_ar_by_nm_au"]},date_published:{selectors:[['meta[itemprop="datePublished"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.trb_ar_page"],transforms:{},clean:[]}},WwwVoxComExtractor={domain:"www.vox.com",title:{selectors:["h1.c-page-title"]},author:{selectors:[['meta[name="author"]',"value"]]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},dek:{selectors:[".p-dek"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[["figure.e-image--hero",".c-entry-content"],".c-entry-content"],transforms:{"figure .e-image__image noscript":function(e){var t=e.html();e.parents(".e-image__image").find(".c-dynamic-image").replaceWith(t)},"figure .e-image__meta":"figcaption"},clean:[]}},NewsNationalgeographicComExtractor={domain:"news.nationalgeographic.com",title:{selectors:["h1","h1.main-title"]},author:{selectors:[".byline-component__contributors b span"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]],format:"ddd MMM DD HH:mm:ss zz YYYY",timezone:"EST"},dek:{selectors:[".article__deck"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[[".parsys.content",".__image-lead__"],".content"],transforms:{".parsys.content":function(e,t){var r=e.find(".image.parbase.section").find(".picturefill").first().data("platform-src");r&&e.prepend(t('<img class="__image-lead__" src="'.concat(r,'"/>')))}},clean:[".pull-quote.pull-quote--large"]}},WwwNationalgeographicComExtractor={domain:"www.nationalgeographic.com",title:{selectors:["h1","h1.main-title"]},author:{selectors:[".byline-component__contributors b span"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},dek:{selectors:[".article__deck"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[[".parsys.content",".__image-lead__"],".content"],transforms:{".parsys.content":function(e,t){var r=e.children().first();if(r.hasClass("imageGroup")){var a=r.find(".media--medium__container").children().first(),o=a.data("platform-image1-path"),n=a.data("platform-image2-path");n&&o&&e.prepend(t('<div class="__image-lead__">\n                <img src="'.concat(o,'"/>\n                <img src="').concat(n,'"/>\n              </div>')))}else{var i=e.find(".image.parbase.section").find(".picturefill").first().data("platform-src");i&&e.prepend(t('<img class="__image-lead__" src="'.concat(i,'"/>')))}}},clean:[".pull-quote.pull-quote--small"]}},WwwLatimesComExtractor={domain:"www.latimes.com",title:{selectors:[".trb_ar_hl"]},author:{selectors:[['meta[name="author"]',"value"]]},date_published:{selectors:[['meta[itemprop="datePublished"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".trb_ar_main"],transforms:{".trb_ar_la":function(e){var t=e.find("figure");e.replaceWith(t)}},clean:[".trb_ar_by",".trb_ar_cr"]}},PagesixComExtractor={domain:"pagesix.com",supportedDomains:["nypost.com"],title:{selectors:["h1 a"]},author:{selectors:[".byline"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},dek:{selectors:[['meta[name="description"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[["#featured-image-wrapper",".entry-content"],".entry-content"],transforms:{"#featured-image-wrapper":"figure",".wp-caption-text":"figcaption"},clean:[".modal-trigger"]}},ThefederalistpapersOrgExtractor={domain:"thefederalistpapers.org",title:{selectors:["h1.entry-title"]},author:{selectors:["main span.entry-author-name"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".entry-content"],transforms:{},clean:[["p[style]"]]}},WwwCbssportsComExtractor={domain:"www.cbssports.com",title:{selectors:[".article-headline"]},author:{selectors:[".author-name"]},date_published:{selectors:[[".date-original-reading-time time","datetime"]],timezone:"UTC"},dek:{selectors:[".article-subline"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".article"],transforms:{},clean:[]}},WwwMsnbcComExtractor={domain:"www.msnbc.com",title:{selectors:["h1","h1.is-title-pane"]},author:{selectors:[".author"]},date_published:{selectors:[['meta[name="DC.date.issued"]',"value"]]},dek:{selectors:[['meta[name="description"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".pane-node-body"],transforms:{".pane-node-body":function(e,t){var r=_slicedToArray(WwwMsnbcComExtractor.lead_image_url.selectors[0],2),a=r[0],o=r[1],n=t(a).attr(o);n&&e.prepend('<img src="'.concat(n,'" />'))}},clean:[]}},WwwThepoliticalinsiderComExtractor={domain:"www.thepoliticalinsider.com",title:{selectors:[['meta[name="sailthru.title"]',"value"]]},author:{selectors:[['meta[name="sailthru.author"]',"value"]]},date_published:{selectors:[['meta[name="sailthru.date"]',"value"]],timezone:"America/New_York"},dek:{selectors:[]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div#article-body"],transforms:{},clean:[]}},WwwMentalflossComExtractor={domain:"www.mentalfloss.com",title:{selectors:["h1.title",".title-group",".inner"]},author:{selectors:[".field-name-field-enhanced-authors"]},date_published:{selectors:[".date-display-single"],timezone:"America/New_York"},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.field.field-name-body"],transforms:{},clean:[]}},AbcnewsGoComExtractor={domain:"abcnews.go.com",title:{selectors:[".article-header h1"]},author:{selectors:[".authors"],clean:[".author-overlay",".by-text"]},date_published:{selectors:[".timestamp"],timezone:"America/New_York"},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".article-copy"],transforms:{},clean:[]}},WwwNydailynewsComExtractor={domain:"www.nydailynews.com",title:{selectors:["h1#ra-headline"]},author:{selectors:[['meta[name="parsely-author"]',"value"]]},date_published:{selectors:[['meta[name="sailthru.date"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["article#ra-body"],transforms:{},clean:["dl#ra-tags",".ra-related","a.ra-editor","dl#ra-share-bottom"]}},WwwCnbcComExtractor={domain:"www.cnbc.com",title:{selectors:["h1.title","h1.ArticleHeader-headline"]},author:{selectors:[['meta[name="author"]',"value"]]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div#article_body.content","div.story","div.ArticleBody-articleBody"],transforms:{},clean:[]}},WwwPopsugarComExtractor={domain:"www.popsugar.com",title:{selectors:["h2.post-title","title-text"]},author:{selectors:[['meta[name="article:author"]',"value"]]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["#content"],transforms:{},clean:[".share-copy-title",".post-tags",".reactions"]}},ObserverComExtractor={domain:"observer.com",title:{selectors:["h1.entry-title"]},author:{selectors:[".author",".vcard"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},dek:{selectors:["h2.dek"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.entry-content"],transforms:{},clean:[]}},PeopleComExtractor={domain:"people.com",title:{selectors:[['meta[name="og:title"]',"value"]]},author:{selectors:["a.author.url.fn"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.article-body__inner"],transforms:{},clean:[]}},WwwUsmagazineComExtractor={domain:"www.usmagazine.com",title:{selectors:["header h1"]},author:{selectors:["a.article-byline.tracked-offpage"]},date_published:{timezone:"America/New_York",selectors:["time.article-published-date"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.article-body-inner"],transforms:{},clean:[".module-related"]}},WwwRollingstoneComExtractor={domain:"www.rollingstone.com",title:{selectors:["h1.content-title"]},author:{selectors:["a.content-author.tracked-offpage"]},date_published:{selectors:["time.content-published-date"],timezone:"America/New_York"},dek:{selectors:[".content-description"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[[".lead-container",".article-content"],".article-content"],transforms:{},clean:[".module-related"]}},twofortysevensportsComExtractor={domain:"247sports.com",title:{selectors:["title","article header h1"]},author:{selectors:[".author"]},date_published:{selectors:[["time[data-published]","data-published"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["section.body.article"],transforms:{},clean:[]}},UproxxComExtractor={domain:"uproxx.com",title:{selectors:["div.post-top h1"]},author:{selectors:[".post-top .authorname"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".post-body"],transforms:{"div.image":"figure","div.image .wp-media-credit":"figcaption"},clean:[]}},WwwEonlineComExtractor={domain:"www.eonline.com",title:{selectors:["h1.article__title"]},author:{selectors:[".entry-meta__author a"]},date_published:{selectors:[['meta[itemprop="datePublished"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[[".post-content section, .post-content div.post-content__image"]],transforms:{"div.post-content__image":"figure","div.post-content__image .image__credits":"figcaption"},clean:[]}},WwwMiamiheraldComExtractor={domain:"www.miamiherald.com",title:{selectors:["h1.title"]},date_published:{selectors:["p.published-date"],timezone:"America/New_York"},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.dateline-storybody"],transforms:{},clean:[]}},WwwRefinery29ComExtractor={domain:"www.refinery29.com",title:{selectors:["h1.title"]},author:{selectors:[".contributor"]},date_published:{selectors:[['meta[name="sailthru.date"]',"value"]],timezone:"America/New_York"},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[[".full-width-opener",".article-content"],".article-content",".body"],transforms:{"div.loading noscript":function(e){var t=e.html();e.parents(".loading").replaceWith(t)},".section-image":"figure",".section-image .content-caption":"figcaption",".section-text":"p"},clean:[".story-share"]}},WwwMacrumorsComExtractor={domain:"www.macrumors.com",title:{selectors:["h1","h1.title"]},author:{selectors:[".author-url"]},date_published:{selectors:[".article .byline"],format:"dddd MMMM D, YYYY h:mm A zz",timezone:"America/Los_Angeles"},dek:{selectors:[['meta[name="description"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".article"],transforms:{},clean:[]}},WwwAndroidcentralComExtractor={domain:"www.androidcentral.com",title:{selectors:["h1","h1.main-title"]},author:{selectors:[".meta-by"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},dek:{selectors:[['meta[name="og:description"]',"value"]]},lead_image_url:{selectors:[[".image-large","src"]]},content:{selectors:[".article-body"],transforms:{},clean:[".intro","blockquote"]}},WwwSiComExtractor={domain:"www.si.com",title:{selectors:["h1","h1.headline"]},author:{selectors:[['meta[name="author"]',"value"]]},date_published:{selectors:[".timestamp"],timezone:"America/New_York"},dek:{selectors:[".quick-hit ul"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[["p",".marquee_large_2x",".component.image"]],transforms:{noscript:function(e){var t=e.children();return 1===t.length&&"img"===t.get(0).tagName?"figure":null}},clean:[[".inline-thumb",".primary-message",".description",".instructions"]]}},WwwRawstoryComExtractor={domain:"www.rawstory.com",title:{selectors:[".blog-title"]},author:{selectors:[".blog-author a:first-of-type"]},date_published:{selectors:[".blog-author a:last-of-type"],timezone:"EST"},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".blog-content"],transforms:{},clean:[]}},WwwCnetComExtractor={domain:"www.cnet.com",title:{selectors:[['meta[name="og:title"]',"value"]]},author:{selectors:["a.author"]},date_published:{selectors:["time"],timezone:"America/Los_Angeles"},dek:{selectors:[".article-dek"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[["img.__image-lead__",".article-main-body"],".article-main-body"],transforms:{"figure.image":function(e){var t=e.find("img");t.attr("width","100%"),t.attr("height","100%"),t.addClass("__image-lead__"),e.remove(".imgContainer").prepend(t)}},clean:[]}},WwwCinemablendComExtractor={domain:"www.cinemablend.com",title:{selectors:[".story_title"]},author:{selectors:[".author"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]],timezone:"EST"},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div#wrap_left_content"],transforms:{},clean:[]}},WwwTodayComExtractor={domain:"www.today.com",title:{selectors:["h1.entry-headline"]},author:{selectors:[['meta[name="author"]',"value"]]},date_published:{selectors:[['meta[name="DC.date.issued"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".entry-container"],transforms:{},clean:[".label-comment"]}},WwwHowtogeekComExtractor={domain:"www.howtogeek.com",title:{selectors:["title"]},author:{selectors:["#authorinfobox a"]},date_published:{selectors:["#authorinfobox + div li"],timezone:"GMT"},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".thecontent"],transforms:{},clean:[]}},WwwAlComExtractor={domain:"www.al.com",title:{selectors:[['meta[name="title"]',"value"]]},author:{selectors:[['meta[name="article_author"]',"value"]]},date_published:{selectors:[['meta[name="article_date_original"]',"value"]],timezone:"EST"},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".entry-content"],transforms:{},clean:[]}},WwwThepennyhoarderComExtractor={domain:"www.thepennyhoarder.com",title:{selectors:[['meta[name="dcterms.title"]',"value"]]},author:{selectors:[['link[rel="author"]',"title"]]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[[".post-img",".post-text"],".post-text"],transforms:{},clean:[]}},WwwWesternjournalismComExtractor={domain:"www.westernjournalism.com",title:{selectors:["title","h1.entry-title"]},author:{selectors:[['meta[name="author"]',"value"]]},date_published:{selectors:[['meta[name="DC.date.issued"]',"value"]]},dek:{selectors:[".subtitle"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.article-sharing.top + div"],transforms:{},clean:[".ad-notice-small"]}},FusionNetExtractor={domain:"fusion.net",title:{selectors:[".post-title",".single-title",".headline"]},author:{selectors:[".show-for-medium .byline"]},date_published:{selectors:[["time.local-time","datetime"]]},dek:{selectors:[]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[[".post-featured-media",".article-content"],".article-content"],transforms:{".fusion-youtube-oembed":"figure"},clean:[]}},WwwAmericanowComExtractor={domain:"www.americanow.com",title:{selectors:[".title",['meta[name="title"]',"value"]]},author:{selectors:[".byline"]},date_published:{selectors:[['meta[name="publish_date"]',"value"]]},dek:{selectors:[]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[[".article-content",".image",".body"],".body"],transforms:{},clean:[".article-video-wrapper",".show-for-small-only"]}},ScienceflyComExtractor={domain:"sciencefly.com",title:{selectors:[".entry-title",".cb-entry-title",".cb-single-title"]},author:{selectors:["div.cb-author","div.cb-author-title"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},dek:{selectors:[]},lead_image_url:{selectors:[["div.theiaPostSlider_slides img","src"]]},content:{selectors:["div.theiaPostSlider_slides"],transforms:{},clean:[]}},HellogigglesComExtractor={domain:"hellogiggles.com",title:{selectors:[".title"]},author:{selectors:[".author-link"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".entry-content"],transforms:{},clean:[]}},ThoughtcatalogComExtractor={domain:"thoughtcatalog.com",title:{selectors:["h1.title",['meta[name="og:title"]',"value"]]},author:{selectors:["div.col-xs-12.article_header div.writer-container.writer-container-inline.writer-no-avatar h4.writer-name","h1.writer-name"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".entry.post"],transforms:{},clean:[".tc_mark"]}},WwwNjComExtractor={domain:"www.nj.com",title:{selectors:[['meta[name="title"]',"value"]]},author:{selectors:[['meta[name="article_author"]',"value"]]},date_published:{selectors:[['meta[name="article_date_original"]',"value"]],timezone:"America/New_York"},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".entry-content"],transforms:{},clean:[]}},WwwInquisitrComExtractor={domain:"www.inquisitr.com",title:{selectors:["h1.entry-title.story--header--title"]},author:{selectors:["div.story--header--author"]},date_published:{selectors:[['meta[name="datePublished"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["article.story",".entry-content."],transforms:{},clean:[".post-category",".story--header--socials",".story--header--content"]}},WwwNbcnewsComExtractor={domain:"www.nbcnews.com",title:{selectors:["div.article-hed h1"]},author:{selectors:["span.byline_author"]},date_published:{selectors:[[".flag_article-wrapper time.timestamp_article[datetime]","datetime"],".flag_article-wrapper time"],timezone:"America/New_York"},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.article-body"],transforms:{},clean:[]}},FortuneComExtractor={domain:"fortune.com",title:{selectors:["h1"]},author:{selectors:[['meta[name="author"]',"value"]]},date_published:{selectors:[".MblGHNMJ"],timezone:"UTC"},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[["picture","article.row"],"article.row"],transforms:{},clean:[]}},WwwLinkedinComExtractor={domain:"www.linkedin.com",title:{selectors:[".article-title","h1"]},author:{selectors:[['meta[name="article:author"]',"value"],".entity-name a[rel=author]"]},date_published:{selectors:[['time[itemprop="datePublished"]',"datetime"]],timezone:"America/Los_Angeles"},dek:{selectors:[]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[["header figure",".prose"],".prose"],transforms:{},clean:[".entity-image"]}},ObamawhitehouseArchivesGovExtractor={domain:"obamawhitehouse.archives.gov",supportedDomains:["whitehouse.gov"],title:{selectors:["h1",".pane-node-title"]},author:{selectors:[".blog-author-link",".node-person-name-link"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},dek:{selectors:[".field-name-field-forall-summary"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{defaultCleaner:!1,selectors:["div#content-start",".pane-node-field-forall-body"],transforms:{},clean:[".pane-node-title",".pane-custom.pane-1"]}},WwwOpposingviewsComExtractor={domain:"www.opposingviews.com",title:{selectors:["h1.title"]},author:{selectors:["div.date span span a"]},date_published:{selectors:[['meta[name="publish_date"]',"value"]]},dek:{selectors:[]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".article-content"],transforms:{},clean:[".show-for-small-only"]}},WwwProspectmagazineCoUkExtractor={domain:"www.prospectmagazine.co.uk",title:{selectors:[".page-title"]},author:{selectors:[".aside_author .title"]},date_published:{selectors:[".post-info"],timezone:"Europe/London"},dek:{selectors:[".page-subtitle"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["article .post_content"],transforms:{},clean:[]}},ForwardComExtractor={domain:"forward.com",title:{selectors:[['meta[name="og:title"]',"value"]]},author:{selectors:[".author-name",['meta[name="sailthru.author"]',"value"]]},date_published:{selectors:[['meta[name="date"]',"value"]]},dek:{selectors:[]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[[".post-item-media-wrap",".post-item p"]],transforms:{},clean:[".donate-box",".message",".subtitle"]}},WwwQdailyComExtractor={domain:"www.qdaily.com",title:{selectors:["h2","h2.title"]},author:{selectors:[".name"]},date_published:{selectors:[[".date.smart-date","data-origindate"]]},dek:{selectors:[".excerpt"]},lead_image_url:{selectors:[[".article-detail-hd img","src"]]},content:{selectors:[".detail"],transforms:{},clean:[".lazyload",".lazylad",".lazylood"]}},GothamistComExtractor={domain:"gothamist.com",supportedDomains:["chicagoist.com","laist.com","sfist.com","shanghaiist.com","dcist.com"],title:{selectors:["h1",".entry-header h1"]},author:{selectors:[".author"]},date_published:{selectors:["abbr","abbr.published"],timezone:"America/New_York"},dek:{selectors:[null]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".entry-body"],transforms:{"div.image-none":"figure",".image-none i":"figcaption","div.image-left":"figure",".image-left i":"figcaption","div.image-right":"figure",".image-right i":"figcaption"},clean:[".image-none br",".image-left br",".image-right br",".galleryEase"]}},WwwFoolComExtractor={domain:"www.fool.com",title:{selectors:["h1"]},author:{selectors:[".author-inline .author-name"]},date_published:{selectors:[['meta[name="date"]',"value"]]},dek:{selectors:["header h2"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".article-content"],transforms:{".caption img":function(e){var t=e.attr("src");e.parent().replaceWith('<figure><img src="'.concat(t,'"/></figure>'))},".caption":"figcaption"},clean:["#pitch"]}},WwwSlateComExtractor={domain:"www.slate.com",title:{selectors:[".hed","h1"]},author:{selectors:["a[rel=author]"]},date_published:{selectors:[".pub-date"],timezone:"America/New_York"},dek:{selectors:[".dek"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".body"],transforms:{},clean:[".about-the-author",".pullquote",".newsletter-signup-component",".top-comment"]}},IciRadioCanadaCaExtractor={domain:"ici.radio-canada.ca",title:{selectors:["h1"]},author:{selectors:[['meta[name="dc.creator"]',"value"]]},date_published:{selectors:[['meta[name="dc.date.created"]',"value"]],timezone:"America/New_York"},dek:{selectors:[".bunker-component.lead"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[[".main-multimedia-item",".news-story-content"]],transforms:{},clean:[]}},WwwFortinetComExtractor={domain:"www.fortinet.com",title:{selectors:["h1"]},author:{selectors:[".b15-blog-meta__author"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.responsivegrid.aem-GridColumn.aem-GridColumn--default--12"],transforms:{noscript:function(e){var t=e.children();return 1===t.length&&"img"===t.get(0).tagName?"figure":null}}}},WwwFastcompanyComExtractor={domain:"www.fastcompany.com",title:{selectors:["h1"]},author:{selectors:[".post__by"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},dek:{selectors:[".post__deck"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".post__article"]}},BlisterreviewComExtractor={domain:"blisterreview.com",title:{selectors:[['meta[name="og:title"]',"value"],"h1.entry-title"]},author:{selectors:["span.author-name"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"],["time.entry-date","datetime"],['meta[itemprop="datePublished"]',"content"]]},dek:{selectors:[]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"],['meta[property="og:image"]',"content"],['meta[itemprop="image"]',"content"],['meta[name="twitter:image"]',"content"],["img.attachment-large","src"]]},content:{selectors:[[".elementor-section-wrap",".elementor-text-editor > p, .elementor-text-editor > ul > li, .attachment-large, .wp-caption-text"]],transforms:{figcaption:"p"},clean:[".comments-area"]}},NewsMynaviJpExtractor={domain:"news.mynavi.jp",title:{selectors:[['meta[name="og:title"]',"value"]]},author:{selectors:["main div.article-author a.article-author__name"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},dek:{selectors:[['meta[name="og:description"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["main article div"],transforms:{img:function(e){var t=e.attr("data-original");""!==t&&e.attr("src",t)}},clean:[]}},ClinicaltrialsGovExtractor={domain:"clinicaltrials.gov",title:{selectors:["h1.tr-solo_record"]},author:{selectors:["div#sponsor.tr-info-text"]},date_published:{selectors:['div:has(> span.term[data-term="Last Update Posted"])']},content:{selectors:["div#tab-body"],transforms:{},clean:[".usa-alert> img"]}},GithubComExtractor={domain:"github.com",title:{selectors:[['meta[name="og:title"]',"value"]]},author:{selectors:[]},date_published:{selectors:[['span[itemprop="dateModified"] relative-time',"datetime"]]},dek:{selectors:['span[itemprop="about"]']},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[["#readme article"]],transforms:{},clean:[]}},WwwRedditComExtractor={domain:"www.reddit.com",title:{selectors:['div[data-test-id="post-content"] h2']},author:{selectors:['div[data-test-id="post-content"] a[href*="user/"]']},date_published:{selectors:['div[data-test-id="post-content"] a[data-click-id="timestamp"]']},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[['div[data-test-id="post-content"] p'],['div[data-test-id="post-content"] a[target="_blank"]:not([data-click-id="timestamp"])','div[data-test-id="post-content"] div[data-click-id="media"]'],['div[data-test-id="post-content"] div[data-click-id="media"]'],['div[data-test-id="post-content"] a[target="_blank"]:not([data-click-id="timestamp"])'],'div[data-test-id="post-content"]'],transforms:{'div[role="img"]':function(e){var t=e.find("img"),r=e.css("background-image");return 1===t.length&&r?(t.attr("src",r.match(/\((.*?)\)/)[1].replace(/('|")/g,"")),t):e}},clean:[".icon"]}},OtrsComExtractor={domain:"otrs.com",title:{selectors:["#main article h1"]},author:{selectors:["div.dateplusauthor a"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},dek:{selectors:[['meta[name="og:description"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["#main article"],defaultCleaner:!1,transforms:{},clean:["div.dateplusauthor","div.gr-12.push-6.footershare","#atftbx","div.category-modul"]}},WwwOssnewsJpExtractor={domain:"www.ossnews.jp",title:{selectors:["#alpha-block h1.hxnewstitle"]},author:null,date_published:{selectors:["p.fs12"],format:"YYYYMMDD HH:mm",timezone:"Asia/Tokyo"},dek:null,lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["#alpha-block .section:has(h1.hxnewstitle)"],defaultCleaner:!1,transforms:{},clean:[]}},BuzzapJpExtractor={domain:"buzzap.jp",title:{selectors:["h1.entry-title"]},author:null,date_published:{selectors:[["time.entry-date","datetime"]]},dek:null,lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.ctiframe"],defaultCleaner:!1,transforms:{},clean:[]}},WwwAsahiComExtractor={domain:"www.asahi.com",title:{selectors:[".ArticleTitle h1"]},author:{selectors:[['meta[name="article:author"]',"value"]]},date_published:{selectors:[['meta[name="pubdate"]',"value"]]},dek:null,excerpt:{selectors:[['meta[name="og:description"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["#MainInner div.ArticleBody"],defaultCleaner:!1,transforms:{},clean:["div.AdMod","div.LoginSelectArea"]}},WwwSanwaCoJpExtractor={domain:"www.sanwa.co.jp",title:{selectors:["#newsContent h1"]},author:null,date_published:{selectors:["p.date"],format:"YYYY.MM.DD",timezone:"Asia/Tokyo"},dek:{selectors:[['meta[name="og:description"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["#newsContent"],defaultCleaner:!1,transforms:{},clean:["#smartphone","div.sns_box","div.contentFoot"]}},WwwElecomCoJpExtractor={domain:"www.elecom.co.jp",title:{selectors:["title"]},author:null,date_published:{selectors:["p.section-last"],format:"YYYY.MM.DD",timezone:"Asia/Tokyo"},dek:null,lead_image_url:null,content:{selectors:["td.TableMain2"],defaultCleaner:!1,transforms:{table:function(e){e.attr("width","auto")}},clean:[]}},ScanNetsecurityNeJpExtractor={domain:"scan.netsecurity.ne.jp",title:{selectors:["header.arti-header h1.head"]},author:null,date_published:{selectors:[['meta[name="article:modified_time"]',"value"]]},dek:{selectors:["header.arti-header p.arti-summary"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.arti-content.arti-content--thumbnail"],defaultCleaner:!1,transforms:{},clean:["aside.arti-giga"]}},JvndbJvnJpExtractor={domain:"jvndb.jvn.jp",title:{selectors:["title"]},author:null,date_published:{selectors:["div.modifytxt:nth-child(2)"],format:"YYYY/MM/DD",timezone:"Asia/Tokyo"},dek:null,lead_image_url:null,content:{selectors:["#news-list"],defaultCleaner:!1,transforms:{},clean:[]}},GeniusComExtractor={domain:"genius.com",title:{selectors:["h1"]},author:{selectors:["h2 a"]},date_published:{selectors:[["meta[itemprop=page_data]","value",function(e){return JSON.parse(e).song.release_date}]]},dek:{selectors:[]},lead_image_url:{selectors:[["meta[itemprop=page_data]","value",function(e){return JSON.parse(e).song.album.cover_art_url}]]},content:{selectors:[".lyrics"],transforms:{},clean:[]}},WwwJnsaOrgExtractor={domain:"www.jnsa.org",title:{selectors:["#wgtitle h2"]},author:null,date_published:null,dek:null,excerpt:{selectors:[['meta[name="og:description"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["#main_area"],transforms:{},clean:["#pankuzu","#side"]}},PhpspotOrgExtractor={domain:"phpspot.org",title:{selectors:["h3.hl"]},author:null,date_published:{selectors:["h4.hl"],format:"YYYYMMDD",timezone:"Asia/Tokyo"},dek:null,lead_image_url:null,content:{selectors:["div.entrybody"],defaultCleaner:!1,transforms:{},clean:[]}},WwwInfoqComExtractor={domain:"www.infoq.com",title:{selectors:["h1.heading"]},author:{selectors:["div.widget.article__authors"]},date_published:{selectors:[".article__readTime.date"],format:"YYYYMMDD",timezone:"Asia/Tokyo"},dek:{selectors:[['meta[name="og:description"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.article__data"],defaultCleaner:!1,transforms:{},clean:[]}},WwwMoongiftJpExtractor={domain:"www.moongift.jp",title:{selectors:["h1.title a"]},author:null,date_published:{selectors:["ul.meta li:not(.social):first-of-type"],timezone:"Asia/Tokyo"},dek:{selectors:[['meta[name="og:description"]',"value"]]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["#main"],transforms:{},clean:["ul.mg_service.cf"]}},WwwItmediaCoJpExtractor={domain:"www.itmedia.co.jp",supportedDomains:["www.atmarkit.co.jp","techtarget.itmedia.co.jp","nlab.itmedia.co.jp"],title:{selectors:["#cmsTitle h1"]},author:{selectors:["#byline"]},date_published:{selectors:[['meta[name="article:modified_time"]',"value"]]},dek:{selectors:["#cmsAbstract h2"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["#cmsBody"],defaultCleaner:!1,transforms:{},clean:["#snsSharebox"]}},WwwPublickey1JpExtractor={domain:"www.publickey1.jp",title:{selectors:["h1"]},author:{selectors:["#subcol p:has(img)"]},date_published:{selectors:["div.pubdate"],format:"YYYYMMDD",timezone:"Asia/Tokyo"},dek:null,lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["#maincol"],defaultCleaner:!1,transforms:{},clean:["#breadcrumbs","div.sbm","div.ad_footer"]}},TakagihiromitsuJpExtractor={domain:"takagi-hiromitsu.jp",title:{selectors:["h3"]},author:{selectors:[['meta[name="author"]',"value"]]},date_published:{selectors:[['meta[http-equiv="Last-Modified"]',"value"]]},dek:null,lead_image_url:null,content:{selectors:["div.body"],defaultCleaner:!1,transforms:{},clean:[]}},BookwalkerJpExtractor={domain:"bookwalker.jp",title:{selectors:["h1.main-heading"]},author:{selectors:["div.authors"]},date_published:{selectors:[".work-info .work-detail:first-of-type .work-detail-contents:last-of-type"],timezone:"Asia/Tokyo"},dek:null,lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[["div.main-info","div.main-cover-inner"]],defaultCleaner:!1,transforms:{},clean:["span.label.label--trial","dt.info-head.info-head--coin","dd.info-contents.info-contents--coin","div.info-notice.fn-toggleClass"]}},WwwYomiuriCoJpExtractor={domain:"www.yomiuri.co.jp",title:{selectors:["h1.title-article.c-article-title"]},author:null,date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},dek:null,lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.p-main-contents"],transforms:{},clean:[]}},JapanCnetComExtractor={domain:"japan.cnet.com",title:{selectors:[".leaf-headline-ttl"]},author:{selectors:[".writer"]},date_published:{selectors:[".date"],format:"YYYYMMDD HHmm",timezone:"Asia/Tokyo"},dek:null,lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.article_body"],transforms:{},clean:[]}},DeadlineComExtractor={domain:"deadline.com",title:{selectors:["h1"]},author:{selectors:["section.author h3"]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},dek:null,lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.a-article-grid__main.pmc-a-grid article.pmc-a-grid-item"],transforms:{".embed-twitter":function(e){var t=e.html();e.replaceWith(t)}},clean:[]}},WwwGizmodoJpExtractor={domain:"www.gizmodo.jp",title:{selectors:["h1.p-post-title"]},author:{selectors:["li.p-post-AssistAuthor"]},date_published:{selectors:[["li.p-post-AssistTime time","datetime"]]},dek:null,lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["article.p-post"],transforms:{"img.p-post-thumbnailImage":function(e){var t=e.attr("src");e.attr("src",t.replace(/^.*=%27/,"").replace(/%27;$/,""))}},clean:["h1.p-post-title","ul.p-post-Assist"]}},GetnewsJpExtractor={domain:"getnews.jp",title:{selectors:["article h1"]},author:{selectors:["span.prof"]},date_published:{selectors:[["ul.cattag-top time","datetime"]]},dek:null,lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.post-bodycopy"],transforms:{},clean:[]}},WwwLifehackerJpExtractor={domain:"www.lifehacker.jp",title:{selectors:["h1.lh-summary-title"]},author:{selectors:["p.lh-entryDetailInner--credit"]},date_published:{selectors:[["div.lh-entryDetail-header time","datetime"]]},dek:null,lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.lh-entryDetail-body"],transforms:{"img.lazyload":function(e){var t=e.attr("src");e.attr("src",t.replace(/^.*=%27/,"").replace(/%27;$/,""))}},clean:["p.lh-entryDetailInner--credit"]}},SectIijAdJpExtractor={domain:"sect.iij.ad.jp",title:{selectors:["h3"]},author:{selectors:["dl.entrydate dd"]},date_published:{selectors:["dl.entrydate dd"],format:"YYYYMMDD",timezone:"Asia/Tokyo"},dek:null,lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["#article"],transforms:{},clean:["dl.entrydate"]}},WwwOreillyCoJpExtractor={domain:"www.oreilly.co.jp",title:{selectors:["h3"]},author:{selectors:['li[itemprop="author"]']},date_published:{selectors:[['meta[itemprop="datePublished"]',"value"]],timezone:"Asia/Tokyo"},dek:null,lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["#content"],defaultCleaner:!1,transforms:{},clean:[".social-tools"]}},WwwIpaGoJpExtractor={domain:"www.ipa.go.jp",title:{selectors:["h1"]},author:null,date_published:{selectors:["p.ipar_text_right"],format:"YYYYMD",timezone:"Asia/Tokyo"},dek:null,lead_image_url:null,content:{selectors:["#ipar_main"],defaultCleaner:!1,transforms:{},clean:["p.ipar_text_right"]}},WeeklyAsciiJpExtractor={domain:"weekly.ascii.jp",title:{selectors:['h1[itemprop="headline"]']},author:{selectors:["p.author"]},date_published:{selectors:[['meta[name="odate"]',"value"]]},dek:null,lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.article"],transforms:{},clean:[]}},TechlogIijAdJpExtractor={domain:"techlog.iij.ad.jp",title:{selectors:["h1.entry-title"]},author:{selectors:['a[rel="author"]']},date_published:{selectors:[["time.entry-date","datetime"]]},dek:null,lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.entry-content"],defaultCleaner:!1,transforms:{},clean:[]}},WiredJpExtractor={domain:"wired.jp",title:{selectors:["h1.post-title"]},author:{selectors:['p[itemprop="author"]']},date_published:{selectors:[["time","datetime"]]},dek:{selectors:[".post-intro"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["article.article-detail"],transforms:{"img[data-original]":function(e){var t=e.attr("data-original"),r=e.attr("src"),a=URL.resolve(r,t);e.attr("src",a)}},clean:[".post-category","time","h1.post-title",".social-area-syncer"]}},JapanZdnetComExtractor={domain:"japan.zdnet.com",title:{selectors:["h1"]},author:{selectors:[['meta[name="cXenseParse:author"]',"value"]]},date_published:{selectors:[['meta[name="article:published_time"]',"value"]]},dek:null,lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:["div.article_body"],transforms:{},clean:[]}},WwwRbbtodayComExtractor={domain:"www.rbbtoday.com",title:{selectors:["h1"]},author:{selectors:[".writer.writer-name"]},date_published:{selectors:[["header time","datetime"]]},dek:{selectors:[".arti-summary"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".arti-content"],transforms:{},clean:[".arti-giga"]}},WwwLemondeFrExtractor={domain:"www.lemonde.fr",title:{selectors:["h1.article__title"]},author:{selectors:[".author__name"]},date_published:{selectors:[['meta[name="og:article:published_time"]',"value"]]},dek:{selectors:[".article__desc"]},lead_image_url:{selectors:[['meta[name="og:image"]',"value"]]},content:{selectors:[".article__content"],transforms:{},clean:[]}},WwwPhoronixComExtractor={domain:"www.phoronix.com",title:{selectors:["article header"]},author:{selectors:[".author a:first-child"]},date_published:{selectors:[".author"],format:"D MMMM YYYY at hh:mm",timezone:"America/New_York"},dek:null,lead_image_url:null,content:{selectors:[".content"],transforms:{},clean:[]}},PitchforkComExtractor={domain:"pitchfork.com",title:{selectors:["title"]},author:{selectors:[".authors-detail__display-name"]},date_published:{selectors:[[".pub-date","datetime"]]},dek:{selectors:[".review-detail__abstract"]},lead_image_url:{selectors:[[".single-album-tombstone__art img","src"]]},content:{selectors:[".review-detail__text"]},extend:{score:{selectors:[".score"]}}},BiorxivOrgExtractor={domain:"biorxiv.org",title:{selectors:["h1#page-title"]},author:{selectors:["div.highwire-citation-biorxiv-article-top > div.highwire-cite-authors"]},content:{selectors:["div#abstract-1"],transforms:{},clean:[]}},EpaperZeitDeExtractor={domain:"epaper.zeit.de",title:{selectors:["p.title"]},author:{selectors:[".article__author"]},date_published:null,excerpt:{selectors:["subtitle"]},lead_image_url:null,content:{selectors:[".article"],transforms:{"p.title":"h1",".article__author":"p",byline:"p",linkbox:"p"},clean:["image-credits","box[type=citation]"]}},CustomExtractors=Object.freeze({BloggerExtractor:BloggerExtractor,NYMagExtractor:NYMagExtractor,WikipediaExtractor:WikipediaExtractor,TwitterExtractor:TwitterExtractor,NYTimesExtractor:NYTimesExtractor,TheAtlanticExtractor:TheAtlanticExtractor,NewYorkerExtractor:NewYorkerExtractor,WiredExtractor:WiredExtractor,MSNExtractor:MSNExtractor,YahooExtractor:YahooExtractor,BuzzfeedExtractor:BuzzfeedExtractor,WikiaExtractor:WikiaExtractor,LittleThingsExtractor:LittleThingsExtractor,PoliticoExtractor:PoliticoExtractor,DeadspinExtractor:DeadspinExtractor,BroadwayWorldExtractor:BroadwayWorldExtractor,ApartmentTherapyExtractor:ApartmentTherapyExtractor,MediumExtractor:MediumExtractor,WwwTmzComExtractor:WwwTmzComExtractor,WwwWashingtonpostComExtractor:WwwWashingtonpostComExtractor,WwwHuffingtonpostComExtractor:WwwHuffingtonpostComExtractor,NewrepublicComExtractor:NewrepublicComExtractor,MoneyCnnComExtractor:MoneyCnnComExtractor,WwwThevergeComExtractor:WwwThevergeComExtractor,WwwCnnComExtractor:WwwCnnComExtractor,WwwAolComExtractor:WwwAolComExtractor,WwwYoutubeComExtractor:WwwYoutubeComExtractor,WwwTheguardianComExtractor:WwwTheguardianComExtractor,WwwSbnationComExtractor:WwwSbnationComExtractor,WwwBloombergComExtractor:WwwBloombergComExtractor,WwwBustleComExtractor:WwwBustleComExtractor,WwwNprOrgExtractor:WwwNprOrgExtractor,WwwRecodeNetExtractor:WwwRecodeNetExtractor,QzComExtractor:QzComExtractor,WwwDmagazineComExtractor:WwwDmagazineComExtractor,WwwReutersComExtractor:WwwReutersComExtractor,MashableComExtractor:MashableComExtractor,WwwChicagotribuneComExtractor:WwwChicagotribuneComExtractor,WwwVoxComExtractor:WwwVoxComExtractor,NewsNationalgeographicComExtractor:NewsNationalgeographicComExtractor,WwwNationalgeographicComExtractor:WwwNationalgeographicComExtractor,WwwLatimesComExtractor:WwwLatimesComExtractor,PagesixComExtractor:PagesixComExtractor,ThefederalistpapersOrgExtractor:ThefederalistpapersOrgExtractor,WwwCbssportsComExtractor:WwwCbssportsComExtractor,WwwMsnbcComExtractor:WwwMsnbcComExtractor,WwwThepoliticalinsiderComExtractor:WwwThepoliticalinsiderComExtractor,WwwMentalflossComExtractor:WwwMentalflossComExtractor,AbcnewsGoComExtractor:AbcnewsGoComExtractor,WwwNydailynewsComExtractor:WwwNydailynewsComExtractor,WwwCnbcComExtractor:WwwCnbcComExtractor,WwwPopsugarComExtractor:WwwPopsugarComExtractor,ObserverComExtractor:ObserverComExtractor,PeopleComExtractor:PeopleComExtractor,WwwUsmagazineComExtractor:WwwUsmagazineComExtractor,WwwRollingstoneComExtractor:WwwRollingstoneComExtractor,twofortysevensportsComExtractor:twofortysevensportsComExtractor,UproxxComExtractor:UproxxComExtractor,WwwEonlineComExtractor:WwwEonlineComExtractor,WwwMiamiheraldComExtractor:WwwMiamiheraldComExtractor,WwwRefinery29ComExtractor:WwwRefinery29ComExtractor,WwwMacrumorsComExtractor:WwwMacrumorsComExtractor,WwwAndroidcentralComExtractor:WwwAndroidcentralComExtractor,WwwSiComExtractor:WwwSiComExtractor,WwwRawstoryComExtractor:WwwRawstoryComExtractor,WwwCnetComExtractor:WwwCnetComExtractor,WwwCinemablendComExtractor:WwwCinemablendComExtractor,WwwTodayComExtractor:WwwTodayComExtractor,WwwHowtogeekComExtractor:WwwHowtogeekComExtractor,WwwAlComExtractor:WwwAlComExtractor,WwwThepennyhoarderComExtractor:WwwThepennyhoarderComExtractor,WwwWesternjournalismComExtractor:WwwWesternjournalismComExtractor,FusionNetExtractor:FusionNetExtractor,WwwAmericanowComExtractor:WwwAmericanowComExtractor,ScienceflyComExtractor:ScienceflyComExtractor,HellogigglesComExtractor:HellogigglesComExtractor,ThoughtcatalogComExtractor:ThoughtcatalogComExtractor,WwwNjComExtractor:WwwNjComExtractor,WwwInquisitrComExtractor:WwwInquisitrComExtractor,WwwNbcnewsComExtractor:WwwNbcnewsComExtractor,FortuneComExtractor:FortuneComExtractor,WwwLinkedinComExtractor:WwwLinkedinComExtractor,ObamawhitehouseArchivesGovExtractor:ObamawhitehouseArchivesGovExtractor,WwwOpposingviewsComExtractor:WwwOpposingviewsComExtractor,WwwProspectmagazineCoUkExtractor:WwwProspectmagazineCoUkExtractor,ForwardComExtractor:ForwardComExtractor,WwwQdailyComExtractor:WwwQdailyComExtractor,GothamistComExtractor:GothamistComExtractor,WwwFoolComExtractor:WwwFoolComExtractor,WwwSlateComExtractor:WwwSlateComExtractor,IciRadioCanadaCaExtractor:IciRadioCanadaCaExtractor,WwwFortinetComExtractor:WwwFortinetComExtractor,WwwFastcompanyComExtractor:WwwFastcompanyComExtractor,BlisterreviewComExtractor:BlisterreviewComExtractor,NewsMynaviJpExtractor:NewsMynaviJpExtractor,ClinicaltrialsGovExtractor:ClinicaltrialsGovExtractor,GithubComExtractor:GithubComExtractor,WwwRedditComExtractor:WwwRedditComExtractor,OtrsComExtractor:OtrsComExtractor,WwwOssnewsJpExtractor:WwwOssnewsJpExtractor,BuzzapJpExtractor:BuzzapJpExtractor,WwwAsahiComExtractor:WwwAsahiComExtractor,WwwSanwaCoJpExtractor:WwwSanwaCoJpExtractor,WwwElecomCoJpExtractor:WwwElecomCoJpExtractor,ScanNetsecurityNeJpExtractor:ScanNetsecurityNeJpExtractor,JvndbJvnJpExtractor:JvndbJvnJpExtractor,GeniusComExtractor:GeniusComExtractor,WwwJnsaOrgExtractor:WwwJnsaOrgExtractor,PhpspotOrgExtractor:PhpspotOrgExtractor,WwwInfoqComExtractor:WwwInfoqComExtractor,WwwMoongiftJpExtractor:WwwMoongiftJpExtractor,WwwItmediaCoJpExtractor:WwwItmediaCoJpExtractor,WwwPublickey1JpExtractor:WwwPublickey1JpExtractor,TakagihiromitsuJpExtractor:TakagihiromitsuJpExtractor,BookwalkerJpExtractor:BookwalkerJpExtractor,WwwYomiuriCoJpExtractor:WwwYomiuriCoJpExtractor,JapanCnetComExtractor:JapanCnetComExtractor,DeadlineComExtractor:DeadlineComExtractor,WwwGizmodoJpExtractor:WwwGizmodoJpExtractor,GetnewsJpExtractor:GetnewsJpExtractor,WwwLifehackerJpExtractor:WwwLifehackerJpExtractor,SectIijAdJpExtractor:SectIijAdJpExtractor,WwwOreillyCoJpExtractor:WwwOreillyCoJpExtractor,WwwIpaGoJpExtractor:WwwIpaGoJpExtractor,WeeklyAsciiJpExtractor:WeeklyAsciiJpExtractor,TechlogIijAdJpExtractor:TechlogIijAdJpExtractor,WiredJpExtractor:WiredJpExtractor,JapanZdnetComExtractor:JapanZdnetComExtractor,WwwRbbtodayComExtractor:WwwRbbtodayComExtractor,WwwLemondeFrExtractor:WwwLemondeFrExtractor,WwwPhoronixComExtractor:WwwPhoronixComExtractor,PitchforkComExtractor:PitchforkComExtractor,BiorxivOrgExtractor:BiorxivOrgExtractor,EpaperZeitDeExtractor:EpaperZeitDeExtractor}),Extractors=_Object$keys(CustomExtractors).reduce(function(e,t){var r=CustomExtractors[t];return _objectSpread({},e,mergeSupportedDomains(r))},{}),CLEAN_AUTHOR_RE=/^\s*(posted |written )?by\s*:?\s*(.*)/i,TEXT_LINK_RE=new RegExp("http(s)?://","i"),MS_DATE_STRING=/^\d{13}$/i,SEC_DATE_STRING=/^\d{10}$/i,CLEAN_DATE_STRING_RE=/^\s*published\s*:?\s*(.*)/i,TIME_MERIDIAN_SPACE_RE=/(.*\d)(am|pm)(.*)/i,TIME_MERIDIAN_DOTS_RE=/\.m\./i,TIME_NOW_STRING=/^\s*(just|right)?\s*now\s*/i,timeUnits=["seconds?","minutes?","hours?","days?","weeks?","months?","years?"],allTimeUnits=timeUnits.join("|"),TIME_AGO_STRING=new RegExp("(\\d+)\\s+(".concat(allTimeUnits,")\\s+ago"),"i"),months=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],allMonths=months.join("|"),timestamp1="[0-9]{1,2}:[0-9]{2,2}( ?[ap].?m.?)?",timestamp2="[0-9]{1,2}[/-][0-9]{1,2}[/-][0-9]{2,4}",timestamp3="-[0-9]{3,4}$",SPLIT_DATE_STRING=new RegExp("(".concat(timestamp1,")|(").concat(timestamp2,")|(").concat(timestamp3,")|([0-9]{1,4})|(").concat(allMonths,")"),"ig"),TIME_WITH_OFFSET_RE=/-\d{3,4}$/,TITLE_SPLITTERS_RE=/(: | - | \| )/g,DOMAIN_ENDINGS_RE=new RegExp(".com$|.net$|.org$|.co.uk$","g");function cleanAuthor(e){return normalizeSpaces(e.replace(CLEAN_AUTHOR_RE,"$2").trim())}function clean$1(e){return e=e.trim(),validUrl.isWebUri(e)?e:null}function cleanDek(e,t){var r=t.$,a=t.excerpt;if(e.length>1e3||e.length<5)return null;if(a&&excerptContent(a,10)===excerptContent(e,10))return null;var o=stripTags(e,r);return TEXT_LINK_RE.test(o)?null:normalizeSpaces(o.trim())}function cleanDateString(e){return(e.match(SPLIT_DATE_STRING)||[]).join(" ").replace(TIME_MERIDIAN_DOTS_RE,"m").replace(TIME_MERIDIAN_SPACE_RE,"$1 $2 $3").replace(CLEAN_DATE_STRING_RE,"$1").trim()}function createDate(e,t,r){if(TIME_WITH_OFFSET_RE.test(e))return moment(new Date(e));if(TIME_AGO_STRING.test(e)){var a=TIME_AGO_STRING.exec(e);return moment().subtract(a[1],a[2])}return TIME_NOW_STRING.test(e)?moment():t?moment.tz(e,r||parseFormat(e),t):moment(e,r||parseFormat(e))}function cleanDatePublished(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.timezone,a=t.format;if(MS_DATE_STRING.test(e)||SEC_DATE_STRING.test(e))return new Date(_parseInt(e,10)).toISOString();var o=createDate(e,r,a);return o.isValid()||(o=createDate(e=cleanDateString(e),r,a)),o.isValid()?o.toISOString():null}function extractCleanNode(e,t){var r=t.$,a=t.cleanConditionally,o=void 0===a||a,n=t.title,i=void 0===n?"":n,l=t.url,s=void 0===l?"":l,c=t.defaultCleaner,m=void 0===c||c;return rewriteTopLevel$$1(e,r),m&&cleanImages(e,r),makeLinksAbsolute$$1(e,r,s),markToKeep(e,r,s),stripJunkTags(e,r),cleanHOnes$$1(e,r),cleanHeaders(e,r,i),m&&cleanTags$$1(e,r,o),removeEmpty(e,r),cleanAttributes$$1(e,r),e}function cleanTitle$$1(e,t){var r=t.url,a=t.$;if(TITLE_SPLITTERS_RE.test(e)&&(e=resolveSplitTitle(e,r)),e.length>150){var o=a("h1");1===o.length&&(e=o.text())}return normalizeSpaces(stripTags(e,a).trim())}function extractBreadcrumbTitle(e,t){if(e.length>=6){var r=e.reduce(function(e,t){return e[t]=e[t]?e[t]+1:1,e},{}),a=_Reflect$ownKeys(r).reduce(function(e,t){return e[1]<r[t]?[t,r[t]]:e},[0,0]),o=_slicedToArray(a,2),n=o[0];o[1]>=2&&n.length<=4&&(e=t.split(n));var i=[e[0],e.slice(-1)].reduce(function(e,t){return e.length>t.length?e:t},"");return i.length>10?i:t}return null}function cleanDomainFromTitle(e,t){var r=URL.parse(t).host.replace(DOMAIN_ENDINGS_RE,""),a=e[0].toLowerCase().replace(" ","");if(wuzzy.levenshtein(a,r)>.4&&a.length>5)return e.slice(2).join("");var o=e.slice(-1)[0].toLowerCase().replace(" ","");return wuzzy.levenshtein(o,r)>.4&&o.length>=5?e.slice(0,-2).join(""):null}function resolveSplitTitle(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split(TITLE_SPLITTERS_RE);if(1===r.length)return e;var a=extractBreadcrumbTitle(r,e);return a||((a=cleanDomainFromTitle(r,t))||e)}var Cleaners={author:cleanAuthor,lead_image_url:clean$1,dek:cleanDek,date_published:cleanDatePublished,content:extractCleanNode,title:cleanTitle$$1};function extractBestNode(e,t){return t.stripUnlikelyCandidates&&(e=stripUnlikelyCandidates(e)),findTopCandidate$$1(e=scoreContent$$1(e=convertToParagraphs$$1(e),t.weightNodes))}var GenericContentExtractor={defaultOpts:{stripUnlikelyCandidates:!0,weightNodes:!0,cleanConditionally:!0},extract:function(e,t){var r=e.$,a=e.html,o=e.title,n=e.url;t=_objectSpread({},this.defaultOpts,t),r=r||cheerio.load(a);var i=this.getContentNode(r,o,n,t);if(nodeIsSufficient(i))return this.cleanAndReturnNode(i,r);var l=!0,s=!1,c=void 0;try{for(var m,u=_getIterator(_Reflect$ownKeys(t).filter(function(e){return!0===t[e]}));!(l=(m=u.next()).done);l=!0){var d=m.value;if(t[d]=!1,r=cheerio.load(a),nodeIsSufficient(i=this.getContentNode(r,o,n,t)))break}}catch(e){s=!0,c=e}finally{try{l||null==u.return||u.return()}finally{if(s)throw c}}return this.cleanAndReturnNode(i,r)},getContentNode:function(e,t,r,a){return extractCleanNode(extractBestNode(e,a),{$:e,cleanConditionally:a.cleanConditionally,title:t,url:r})},cleanAndReturnNode:function(e,t){return e?normalizeSpaces(t.html(e)):null}},STRONG_TITLE_META_TAGS=["tweetmeme-title","dc.title","rbtitle","headline","title"],WEAK_TITLE_META_TAGS=["og:title"],STRONG_TITLE_SELECTORS=[".hentry .entry-title","h1#articleHeader","h1.articleHeader","h1.article",".instapaper_title","#meebo-title"],WEAK_TITLE_SELECTORS=["article h1","#entry-title",".entry-title","#entryTitle","#entrytitle",".entryTitle",".entrytitle","#articleTitle",".articleTitle","post post-title","h1.title","h2.article","h1","html head title","title"],GenericTitleExtractor={extract:function(e){var t,r=e.$,a=e.url,o=e.metaCache;return(t=extractFromMeta$$1(r,STRONG_TITLE_META_TAGS,o))?cleanTitle$$1(t,{url:a,$:r}):(t=extractFromSelectors$$1(r,STRONG_TITLE_SELECTORS))?cleanTitle$$1(t,{url:a,$:r}):(t=extractFromMeta$$1(r,WEAK_TITLE_META_TAGS,o))?cleanTitle$$1(t,{url:a,$:r}):(t=extractFromSelectors$$1(r,WEAK_TITLE_SELECTORS))?cleanTitle$$1(t,{url:a,$:r}):""}},AUTHOR_META_TAGS=["byl","clmst","dc.author","dcsext.author","dc.creator","rbauthors","authors"],AUTHOR_MAX_LENGTH=300,AUTHOR_SELECTORS=[".entry .entry-author",".author.vcard .fn",".author .vcard .fn",".byline.vcard .fn",".byline .vcard .fn",".byline .by .author",".byline .by",".byline .author",".post-author.vcard",".post-author .vcard","a[rel=author]","#by_author",".by_author","#entryAuthor",".entryAuthor",".byline a[href*=author]","#author .authorname",".author .authorname","#author",".author",".articleauthor",".ArticleAuthor",".byline"],bylineRe=/^[\n\s]*By/i,BYLINE_SELECTORS_RE=[["#byline",bylineRe],[".byline",bylineRe]],GenericAuthorExtractor={extract:function(e){var t,r=e.$,a=e.metaCache;if((t=extractFromMeta$$1(r,AUTHOR_META_TAGS,a))&&t.length<AUTHOR_MAX_LENGTH)return cleanAuthor(t);if((t=extractFromSelectors$$1(r,AUTHOR_SELECTORS,2))&&t.length<AUTHOR_MAX_LENGTH)return cleanAuthor(t);var o=!0,n=!1,i=void 0;try{for(var l,s=_getIterator(BYLINE_SELECTORS_RE);!(o=(l=s.next()).done);o=!0){var c=_slicedToArray(l.value,2),m=c[0],u=c[1],d=r(m);if(1===d.length){var p=d.text();if(u.test(p))return cleanAuthor(p)}}}catch(e){n=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(n)throw i}}return null}},DATE_PUBLISHED_META_TAGS=["article:published_time","displaydate","dc.date","dc.date.issued","rbpubdate","publish_date","pub_date","pagedate","pubdate","revision_date","doc_date","date_created","content_create_date","lastmodified","created","date"],DATE_PUBLISHED_SELECTORS=[".hentry .dtstamp.published",".hentry .published",".hentry .dtstamp.updated",".hentry .updated",".single .published",".meta .published",".meta .postDate",".entry-date",".byline .date",".postmetadata .date",".article_datetime",".date-header",".story-date",".dateStamp","#story .datetime",".dateline",".pubdate"],abbrevMonthsStr="(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)",DATE_PUBLISHED_URL_RES=[new RegExp("/(20\\d{2}/\\d{2}/\\d{2})/","i"),new RegExp("(20\\d{2}-[01]\\d-[0-3]\\d)","i"),new RegExp("/(20\\d{2}/".concat(abbrevMonthsStr,"/[0-3]\\d)/"),"i")],GenericDatePublishedExtractor={extract:function(e){var t,r=e.$,a=e.url,o=e.metaCache;return(t=extractFromMeta$$1(r,DATE_PUBLISHED_META_TAGS,o,!1))?cleanDatePublished(t):(t=extractFromSelectors$$1(r,DATE_PUBLISHED_SELECTORS))?cleanDatePublished(t):(t=extractFromUrl(a,DATE_PUBLISHED_URL_RES))?cleanDatePublished(t):null}},GenericDekExtractor={extract:function(){return null}},LEAD_IMAGE_URL_META_TAGS=["og:image","twitter:image","image_src"],LEAD_IMAGE_URL_SELECTORS=["link[rel=image_src]"],POSITIVE_LEAD_IMAGE_URL_HINTS=["upload","wp-content","large","photo","wp-image"],POSITIVE_LEAD_IMAGE_URL_HINTS_RE=new RegExp(POSITIVE_LEAD_IMAGE_URL_HINTS.join("|"),"i"),NEGATIVE_LEAD_IMAGE_URL_HINTS=["spacer","sprite","blank","throbber","gradient","tile","bg","background","icon","social","header","hdr","advert","spinner","loader","loading","default","rating","share","facebook","twitter","theme","promo","ads","wp-includes"],NEGATIVE_LEAD_IMAGE_URL_HINTS_RE=new RegExp(NEGATIVE_LEAD_IMAGE_URL_HINTS.join("|"),"i"),GIF_RE=/\.gif(\?.*)?$/i,JPG_RE=/\.jpe?g(\?.*)?$/i;function getSig(e){return"".concat(e.attr("class")||""," ").concat(e.attr("id")||"")}function scoreImageUrl(e){e=e.trim();var t=0;return POSITIVE_LEAD_IMAGE_URL_HINTS_RE.test(e)&&(t+=20),NEGATIVE_LEAD_IMAGE_URL_HINTS_RE.test(e)&&(t-=20),GIF_RE.test(e)&&(t-=10),JPG_RE.test(e)&&(t+=10),t}function scoreAttr(e){return e.attr("alt")?5:0}function scoreByParents(e){var t=0;1===e.parents("figure").first().length&&(t+=25);var r,a=e.parent();return 1===a.length&&(r=a.parent()),[a,r].forEach(function(e){PHOTO_HINTS_RE$1.test(getSig(e))&&(t+=15)}),t}function scoreBySibling(e){var t=0,r=e.next(),a=r.get(0);return a&&"figcaption"===a.tagName.toLowerCase()&&(t+=25),PHOTO_HINTS_RE$1.test(getSig(r))&&(t+=15),t}function scoreByDimensions(e){var t=0,r=_parseFloat(e.attr("width")),a=_parseFloat(e.attr("height")),o=e.attr("src");if(r&&r<=50&&(t-=50),a&&a<=50&&(t-=50),r&&a&&!o.includes("sprite")){var n=r*a;n<5e3?t-=100:t+=Math.round(n/1e3)}return t}function scoreByPosition(e,t){return e.length/2-t}var GenericLeadImageUrlExtractor={extract:function(e){var t,r=e.$,a=e.content,o=e.metaCache,n=e.html;r.browser||0!==r("head").length||r("*").first().prepend(n);var i=extractFromMeta$$1(r,LEAD_IMAGE_URL_META_TAGS,o,!1);if(i&&(t=clean$1(i)))return t;var l=r(a),s=r("img",l).toArray(),c={};s.forEach(function(e,t){var a=r(e),o=a.attr("src");if(o){var n=scoreImageUrl(o);n+=scoreAttr(a),n+=scoreByParents(a),n+=scoreBySibling(a),n+=scoreByDimensions(a),n+=scoreByPosition(s,t),c[o]=n}});var m=_Reflect$ownKeys(c).reduce(function(e,t){return c[t]>e[1]?[t,c[t]]:e},[null,0]),u=_slicedToArray(m,2),d=u[0];if(u[1]>0&&(t=clean$1(d)))return t;var p=!0,_=!1,h=void 0;try{for(var g,w=_getIterator(LEAD_IMAGE_URL_SELECTORS);!(p=(g=w.next()).done);p=!0){var E=g.value,f=r(E).first(),v=f.attr("src");if(v&&(t=clean$1(v)))return t;var x=f.attr("href");if(x&&(t=clean$1(x)))return t;var b=f.attr("value");if(b&&(t=clean$1(b)))return t}}catch(e){_=!0,h=e}finally{try{p||null==w.return||w.return()}finally{if(_)throw h}}return null}};function scoreSimilarity(e,t,r){return e>0?e+-250*(1-new difflib.SequenceMatcher(null,t,r).ratio()-.2):0}function scoreLinkText(e,t){var r=0;if(IS_DIGIT_RE.test(e.trim())){var a=_parseInt(e,10);r=a<2?-30:Math.max(0,10-a),t&&t>=a&&(r-=50)}return r}function scorePageInLink(e,t){return e&&!t?50:0}var DIGIT_RE$2=/\d/,EXTRANEOUS_LINK_HINTS$1=["print","archive","comment","discuss","e-mail","email","share","reply","all","login","sign","single","adx","entry-unrelated"],EXTRANEOUS_LINK_HINTS_RE$1=new RegExp(EXTRANEOUS_LINK_HINTS$1.join("|"),"i"),NEXT_LINK_TEXT_RE$1=new RegExp("(next|weiter|continue|>([^|]|$)|([^|]|$))","i"),CAP_LINK_TEXT_RE$1=new RegExp("(first|last|end)","i"),PREV_LINK_TEXT_RE$1=new RegExp("(prev|earl|old|new|<|)","i");function scoreExtraneousLinks(e){return EXTRANEOUS_LINK_HINTS_RE$1.test(e)?-25:0}function makeSig(e){return"".concat(e.attr("class")||""," ").concat(e.attr("id")||"")}function scoreByParents$1(e){var t=e.parent(),r=!1,a=!1,o=0;return _Array$from(range(0,4)).forEach(function(){if(0!==t.length){var e=makeSig(t," ");!r&&PAGE_RE.test(e)&&(r=!0,o+=25),!a&&NEGATIVE_SCORE_RE.test(e)&&EXTRANEOUS_LINK_HINTS_RE$1.test(e)&&(POSITIVE_SCORE_RE.test(e)||(a=!0,o-=25)),t=t.parent()}}),o}function scorePrevLink(e){return PREV_LINK_TEXT_RE$1.test(e)?-200:0}function shouldScore(e,t,r,a,o,n){if(void 0!==n.find(function(t){return e===t}))return!1;if(!e||e===t||e===r)return!1;var i=a.hostname;if(URL.parse(e).hostname!==i)return!1;var l=e.replace(r,"");return!!DIGIT_RE$2.test(l)&&(!EXTRANEOUS_LINK_HINTS_RE$1.test(o)&&!(o.length>25))}function scoreBaseUrl(e,t){return t.test(e)?0:-25}function scoreNextLinkText(e){return NEXT_LINK_TEXT_RE$1.test(e)?50:0}function scoreCapLinks(e){return CAP_LINK_TEXT_RE$1.test(e)&&NEXT_LINK_TEXT_RE$1.test(e)?-65:0}function makeBaseRegex(e){return new RegExp("^".concat(e),"i")}function makeSig$1(e,t){return"".concat(t||e.text()," ").concat(e.attr("class")||""," ").concat(e.attr("id")||"")}function scoreLinks(e){var t=e.links,r=e.articleUrl,a=e.baseUrl,o=e.parsedUrl,n=e.$,i=e.previousUrls,l=void 0===i?[]:i;o=o||URL.parse(r);var s=makeBaseRegex(a),c=isWordpress(n),m=t.reduce(function(e,t){var i=getAttrs(t);if(!i.href)return e;var m=removeAnchor(i.href),u=n(t),d=u.text();if(!shouldScore(m,r,a,o,d,l))return e;e[m]?e[m].linkText="".concat(e[m].linkText,"|").concat(d):e[m]={score:0,linkText:d,href:m};var p=e[m],_=makeSig$1(u,d),h=pageNumFromUrl(m),g=scoreBaseUrl(m,s);return g+=scoreNextLinkText(_),g+=scoreCapLinks(_),g+=scorePrevLink(_),g+=scoreByParents$1(u),g+=scoreExtraneousLinks(m),g+=scorePageInLink(h,c),g+=scoreLinkText(d,h),g+=scoreSimilarity(g,r,m),p.score=g,e},{});return 0===_Reflect$ownKeys(m).length?null:m}var GenericNextPageUrlExtractor={extract:function(e){var t=e.$,r=e.url,a=e.parsedUrl,o=e.previousUrls,n=void 0===o?[]:o;a=a||URL.parse(r);var i=removeAnchor(r),l=articleBaseUrl(r,a),s=scoreLinks({links:t("a[href]").toArray(),articleUrl:i,baseUrl:l,parsedUrl:a,$:t,previousUrls:n});if(!s)return null;var c=_Reflect$ownKeys(s).reduce(function(e,t){var r=s[t];return r.score>e.score?r:e},{score:-100});return c.score>=50?c.href:null}},CANONICAL_META_SELECTORS=["og:url"];function parseDomain(e){return URL.parse(e).hostname}function result(e){return{url:e,domain:parseDomain(e)}}var GenericUrlExtractor={extract:function(e){var t=e.$,r=e.url,a=e.metaCache,o=t("link[rel=canonical]");if(0!==o.length){var n=o.attr("href");if(n)return result(n)}var i=extractFromMeta$$1(t,CANONICAL_META_SELECTORS,a);return result(i||r)}},EXCERPT_META_SELECTORS=["og:description","twitter:description"];function clean$2(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;return e=e.replace(/[\s\n]+/g," ").trim(),ellipsize(e,r,{ellipse:"&hellip;"})}var GenericExcerptExtractor={extract:function(e){var t=e.$,r=e.content,a=e.metaCache,o=extractFromMeta$$1(t,EXCERPT_META_SELECTORS,a);if(o)return clean$2(stripTags(o,t));return clean$2(t(r.slice(0,1e3)).text(),t,200)}},GenericWordCountExtractor={extract:function(e){var t=e.content;return normalizeSpaces(cheerio.load(t)("div").first().text()).split(/\s/).length}},GenericExtractor={domain:"*",title:GenericTitleExtractor.extract,date_published:GenericDatePublishedExtractor.extract,author:GenericAuthorExtractor.extract,content:GenericContentExtractor.extract.bind(GenericContentExtractor),lead_image_url:GenericLeadImageUrlExtractor.extract,dek:GenericDekExtractor.extract,next_page_url:GenericNextPageUrlExtractor.extract,url_and_domain:GenericUrlExtractor.extract,excerpt:GenericExcerptExtractor.extract,word_count:GenericWordCountExtractor.extract,direction:function(e){var t=e.title;return stringDirection.getDirection(t)},extract:function(e){var t=e.html,r=e.$;if(t&&!r){var a=cheerio.load(t);e.$=a}var o=this.title(e),n=this.date_published(e),i=this.author(e),l=this.content(_objectSpread({},e,{title:o})),s=this.lead_image_url(_objectSpread({},e,{content:l})),c=this.dek(_objectSpread({},e,{content:l})),m=this.next_page_url(e),u=this.excerpt(_objectSpread({},e,{content:l})),d=this.word_count(_objectSpread({},e,{content:l})),p=this.direction({title:o}),_=this.url_and_domain(e);return{title:o,author:i,date_published:n||null,dek:c,lead_image_url:s,content:l,next_page_url:m,url:_.url,domain:_.domain,excerpt:u,word_count:d,direction:p}}},Detectors={'meta[name="al:ios:app_name"][value="Medium"]':MediumExtractor,'meta[name="generator"][value="blogger"]':BloggerExtractor};function detectByHtml(e){var t=_Reflect$ownKeys(Detectors).find(function(t){return e(t).length>0});return Detectors[t]}function getExtractor(e,t,r){var a=(t=t||URL.parse(e)).hostname,o=a.split(".").slice(-2).join(".");return apiExtractors[a]||apiExtractors[o]||Extractors[a]||Extractors[o]||detectByHtml(r)||GenericExtractor}function cleanBySelectors(e,t,r){var a=r.clean;return a?(t(a.join(","),e).remove(),e):e}function transformElements(e,t,r){var a=r.transforms;return a?(_Reflect$ownKeys(a).forEach(function(r){var o=t(r,e),n=a[r];"string"==typeof n?o.each(function(e,o){convertNodeTo$$1(t(o),t,a[r])}):"function"==typeof n&&o.each(function(e,r){var a=n(t(r),t);"string"==typeof a&&convertNodeTo$$1(t(r),t,a)})}),e):e}function findMatchingSelector(e,t,r,a){return t.find(function(t){if(_Array$isArray(t)){if(r)return t.reduce(function(t,r){return t&&e(r).length>0},!0);var o=_slicedToArray(t,2),n=o[0],i=o[1];return(a||!a&&1===e(n).length)&&e(n).attr(i)&&""!==e(n).attr(i).trim()}return(a||!a&&1===e(t).length)&&""!==e(t).text().trim()})}function select(e){var t=e.$,r=e.type,a=e.extractionOpts,o=e.extractHtml,n=void 0!==o&&o;if(!a)return null;if("string"==typeof a)return a;var i,l=a.selectors,s=a.defaultCleaner,c=void 0===s||s,m=a.allowMultiple,u=findMatchingSelector(t,l,n,m);if(!u)return null;function d(r){return makeLinksAbsolute$$1(r,t,e.url||""),cleanBySelectors(r,t,a),transformElements(r,t,a),r}if(n)return function(){var a;if(_Array$isArray(u)){a=t(u.join(","));var o=t("<div></div>");a.each(function(e,t){o.append(t)}),a=o}else a=t(u);return a.wrap(t("<div></div>")),a=d(a=a.parent()),Cleaners[r]&&Cleaners[r](a,_objectSpread({},e,{defaultCleaner:c})),m?a.children().toArray().map(function(e){return t.html(t(e))}):t.html(a)}();if(_Array$isArray(u)){var p=_slicedToArray(u,3),_=p[0],h=p[1],g=p[2];i=d(t(_)).map(function(e,r){var a=t(r).attr(h).trim();return g?g(a):a})}else i=d(t(u)).map(function(e,r){return t(r).text().trim()});return i=_Array$isArray(i.toArray())&&m?i.toArray():i[0],c&&Cleaners[r]?Cleaners[r](i,_objectSpread({},e,a)):i}function selectExtendedTypes(e,t){var r={};return _Reflect$ownKeys(e).forEach(function(a){r[a]||(r[a]=select(_objectSpread({},t,{type:a,extractionOpts:e[a]})))}),r}function extractResult(e){var t=e.type,r=e.extractor,a=e.fallback,o=void 0===a||a,n=select(_objectSpread({},e,{extractionOpts:r[t]}));return n||(o?GenericExtractor[t](e):null)}var RootExtractor={extract:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:GenericExtractor,t=arguments.length>1?arguments[1]:void 0,r=t,a=r.contentOnly,o=r.extractedTitle;if("*"===e.domain)return e.extract(t);if(t=_objectSpread({},t,{extractor:e}),a)return{content:extractResult(_objectSpread({},t,{type:"content",extractHtml:!0,title:o}))};var n=extractResult(_objectSpread({},t,{type:"title"})),i=extractResult(_objectSpread({},t,{type:"date_published"})),l=extractResult(_objectSpread({},t,{type:"author"})),s=extractResult(_objectSpread({},t,{type:"next_page_url"})),c=extractResult(_objectSpread({},t,{type:"content",extractHtml:!0,title:n})),m=extractResult(_objectSpread({},t,{type:"lead_image_url",content:c})),u=extractResult(_objectSpread({},t,{type:"excerpt",content:c})),d=extractResult(_objectSpread({},t,{type:"dek",content:c,excerpt:u})),p=extractResult(_objectSpread({},t,{type:"word_count",content:c})),_=extractResult(_objectSpread({},t,{type:"direction",title:n})),h=extractResult(_objectSpread({},t,{type:"url_and_domain"}))||{url:null,domain:null},g=h.url,w=h.domain,E={};return e.extend&&(E=selectExtendedTypes(e.extend,t)),_objectSpread({title:n,content:c,author:l,date_published:i,lead_image_url:m,dek:d,next_page_url:s,url:g,domain:w,excerpt:u,word_count:p,direction:_},E)}};function collectAllPages(e){return _collectAllPages.apply(this,arguments)}function _collectAllPages(){return(_collectAllPages=_asyncToGenerator(_regeneratorRuntime.mark(function e(t){var r,a,o,n,i,l,s,c,m,u,d,p,_;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.next_page_url,a=t.html,o=t.$,n=t.metaCache,i=t.result,l=t.Extractor,s=t.title,c=t.url,m=1,u=[removeAnchor(c)];case 3:if(!(r&&m<26)){e.next=16;break}return m+=1,e.next=7,Resource.create(r);case 7:o=e.sent,a=o.html(),d={url:r,html:a,$:o,metaCache:n,contentOnly:!0,extractedTitle:s,previousUrls:u},p=RootExtractor.extract(l,d),u.push(r),i=_objectSpread({},i,{content:"".concat(i.content,"<hr><h4>Page ").concat(m,"</h4>").concat(p.content)}),r=p.next_page_url,e.next=3;break;case 16:return _=GenericExtractor.word_count({content:"<div>".concat(i.content,"</div>")}),e.abrupt("return",_objectSpread({},i,{total_pages:m,pages_rendered:m,word_count:_}));case 18:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Mercury={parse:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark(function e(t){var r,a,o,n,i,l,s,c,m,u,d,p,_,h,g,w,E,f,v,x,b,y,C,T=arguments;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=T.length>1&&void 0!==T[1]?T[1]:{},a=r.html,o=_objectWithoutProperties(r,["html"]),n=o.fetchAllPages,i=void 0===n||n,l=o.fallback,s=void 0===l||l,c=o.contentType,m=void 0===c?"html":c,u=o.headers,d=void 0===u?{}:u,p=o.extend,_=o.customExtractor,!t&&cheerio.browser&&(t=window.location.href,a=a||cheerio.html()),validateUrl(h=URL.parse(t))){e.next=6;break}return e.abrupt("return",{error:!0,message:"The url parameter passed does not look like a valid URL. Please check your URL and try again."});case 6:return e.next=8,Resource.create(t,a,h,d);case 8:if(!(g=e.sent).failed){e.next=11;break}return e.abrupt("return",g);case 11:if(_&&addExtractor(_),w=getExtractor(t,h,g),a||(a=g.html()),E=g("meta").map(function(e,t){return g(t).attr("name")}).toArray(),f={},p&&(f=selectExtendedTypes(p,{$:g,url:t,html:a})),v=RootExtractor.extract(w,{url:t,html:a,$:g,metaCache:E,parsedUrl:h,fallback:s,contentType:m}),b=(x=v).title,y=x.next_page_url,!i||!y){e.next=25;break}return e.next=22,collectAllPages({Extractor:w,next_page_url:y,html:a,$:g,metaCache:E,result:v,title:b,url:t});case 22:v=e.sent,e.next=26;break;case 25:v=_objectSpread({},v,{total_pages:1,rendered_pages:1});case 26:return"markdown"===m?(C=new TurndownService,v.content=C.turndown(v.content)):"text"===m&&(v.content=g.text(g(v.content))),e.abrupt("return",_objectSpread({},v,f));case 28:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),browser:!!cheerio.browser,fetchResource:function(e){return Resource.create(e)},addExtractor:function(e){return addExtractor(e)}};module.exports=Mercury;
//# sourceMappingURL=/sm/fe6c2bc2190191f65aa170f206e8f9cadad809a79aee94d749257eb8c44d5bcd.map